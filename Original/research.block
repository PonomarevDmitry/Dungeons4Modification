res_arcanium.stage_1
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 200
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  BuffResearchUnlock
    Unlocks
      Item = room_arcanium
      Item = gimmick_arcanium
  UiDataResearchStage
    Description = res_common_unlockroom
res_arcanium.stage_2
  Buff
    Parts
      Item = BuffProperties
      Item = ResearchStage
    TargetSelector = bts_player_arcanium
  BuffProperties
    Properties
      Item
        Property = GeneralStorageRoom.CapacityPerTile
        Value
          ValueType = Constant
          Value = 50
      Item
        Property = RoomCollection.CapacityPerTileBase
        Value
          ValueType = Constant
          Value = 50
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 100
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  UiDataResearchStage
    Description = res_common_capacitypertile
res_arcanium.stage_3
  Buff
    Parts
      Item = BuffProperties
      Item = ResearchStage
    TargetSelector = bts_player_arcanium
  BuffProperties
    Properties
      Item
        Property = Room.EfficiencyBonus
        Value
          ValueType = Constant
          Value = 0.5
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 200
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  UiDataResearchStage
    Description = res_common_efficiency
res_arcanium.stage_4
  Buff
    Parts
      Item = BuffProperties
      Item = ResearchStage
    TargetSelector = bts_arcanium
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 200
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  BuffProperties
    Properties
      Item
        Property = GeneralStorageRoom.CapacityPerTile
        Value
          ValueType = Constant
          Value = 50
      Item
        Property = RoomCollection.CapacityPerTileBase
        Value
          ValueType = Constant
          Value = 50
  UiDataResearchStage
    Description = res_common_capacitypertile
res_arena.stage_1
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 25
      CostEntries
        Item
          Value = 500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 175
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  BuffResearchUnlock
    Unlocks
      Item = room_arena
      Item = gimmick_arena
  UiDataResearchStage
    Description = res_common_unlockroom
res_arena.stage_2
  Buff
    Parts
      Item = ResearchStage
      Item = ModifyStaticFactor
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 100
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  UiDataResearchStage
    Description = res_arena_2_desc
  ModifyStaticFactor
    Factor = factor_exp_gain_arena
    Value
      ValueType = Constant
      Value = 10
res_arena.stage_3
  Buff
    Parts = Append
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 250
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  BuffResearchUnlock
    Unlocks = Append
      Item = interaction_train_idle_demon
  UiDataResearchStage
    Description = res_arena_3_desc
res_arena.stage_4
  Buff
    Parts = Append
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 250
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  BuffResearchUnlock
    Unlocks = Append
      Item = interaction_train_idle_undead
  UiDataResearchStage
    Description = res_arena_4_desc
res_banshee.stage_1
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  BuffResearchUnlock
    Unlocks
      Item = unit_banshee
  UiDataResearchStage
    Description = res_common_unlockcreature
res_banshee.stage_2
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_banshee
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 100
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  UiDataResearchStage
    Description = res_banshee_2_desc
  BuffProperties
    Properties
      Item
        Property = Attack.SkillDurationBase
        Value
          ValueType = Constant
          Value = 3
res_banshee.stage_3
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_banshee_minion
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 150
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  BuffProperties
    Properties
      Item
        Property = Attack.SkillStrengthBase
        Value
          ValueType = Constant
          Value = 50
  UiDataResearchStage
    Description = res_banshee_3_desc
res_banshee.stage_4
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_banshee
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 200
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  UiDataResearchStage
    Description = res_banshee_4_desc
  BuffProperties
    Properties
      Item
        Property = Attack.AreaBase
        Value
          ValueType = Constant
          Value = 2
res_banshee.stage_5
  Buff
    Parts = Append
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_marked_for_freeze_banshee
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 300
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  UiDataResearchStage
    Description = res_banshee_5_desc
  BuffProperties
    Properties = Append
      Item
        Property = Stunned.Freeze
res_base
  Abstract = True
  Research
    Stages
  UiDataResearch
    Icon = 00000000000000000000000000000000
    Faction = None
    SortOrder = 0
    Title = ""
    Description = ""
    Flavour = ""
res_brewery.stage_1
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1250
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 300
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  BuffResearchUnlock
    Unlocks
      Item = room_brewery
      Item = gimmick_brewery
  UiDataResearchStage
    Description = res_common_unlockroom
res_brewery.stage_2
  Buff
    Parts = Append
      Item = BuffProperties
      Item = ResearchStage
    TargetSelector = bts_player_brewery
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 100
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  BuffProperties
    Properties = Append
      Item
        Property = GeneralStorageRoom.CapacityPerTile
        Value
          ValueType = Constant
          Value = 3
      Item
        Property = RoomCollection.CapacityPerTileBase
        Value
          ValueType = Constant
          Value = 3
  UiDataResearchStage
    Description = res_common_capacitypertile
res_brewery.stage_3
  Buff
    Parts = Append
      Item = BuffProperties
      Item = ResearchStage
    TargetSelector = bts_player_brewery
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 150
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  BuffProperties
    Properties = Append
      Item
        Property = Room.EfficiencyBonus
        Value
          ValueType = Constant
          Value = 0.5
  UiDataResearchStage
    Description = res_common_efficiency
res_crypt.stage_1
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1500
          CurrencyManager = GoldManager
          ValueFactors = Append
        Item
          Value = 200
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  BuffResearchUnlock
    Unlocks
      Item = room_crypta
      Item = gimmick_crypta
  UiDataResearchStage
    Description = res_common_unlockroom
res_crypt.stage_2
  Buff
    Parts
      Item = BuffProperties
      Item = ResearchStage
    TargetSelector = bts_player_crypt
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 200
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  BuffProperties
    Properties
      Item
        Property = Room.EfficiencyBonus
        Value
          ValueType = Constant
          Value = 0.5
  UiDataResearchStage
    Description = res_common_efficiency
res_crypt.stage_3
  Buff
    Parts = Append
      Item = ResearchStage
      Item = DamageAspectBuffPart
    TargetSelector = bts_player_turned
  UiDataResearchStage
    Description = res_crypt_stage_3_desc
  DamageAspectBuffPart
    Aspects = Append
      Item
        Aspect = aspect_ice
        AddToDefaultAttackDamage = True
        AddToSkillDamage = True
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
        Item
          Value = 200
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
res_crypt.stage_4
  Buff
    Parts = Append
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_turned
  UiDataResearchStage
    Description = res_crypt_stage_4_desc
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1250
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 200
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  BuffProperties
    Properties = Append
      Item
        Property = Combat.MaxHealthBonusFactor
        Value
          ValueType = Constant
          Value = 0.5
res_crypt.stage_5
  Buff
    Parts = Append
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_turned
  UiDataResearchStage
    Description = res_crypt_stage_5_desc
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 500
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  BuffProperties
    Properties = Append
      Item
        Property = Attack.AttackDamageFactor
        Value
          ValueType = Constant
          Value = 0.5
      Item
        Property = Attack.SkillDamageFactor
        Value
          ValueType = Constant
          Value = 0.5
res_demons.stage_1
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
      Item = BuffProperties
      Item = BuffChangeUnitDamageResearchBuffStrength
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  BuffResearchUnlock
    Unlocks
      Item = res_imp
      Item = res_imp.stage_1
      Item = res_vortex
      Item = res_vortex.stage_1
  UiDataResearchStage
    Description = res_demon_X_desc
  BuffProperties
    Properties = Append
      Item
        Property = ImpersonateManager.FocusPointsMax
        Value
          ValueType = Constant
          Value = 5
  BuffChangeUnitDamageResearchBuffStrength
    StrengthChange = 0.01
res_demons.stage_10
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
      Item = BuffProperties
      Item = BuffChangeUnitDamageResearchBuffStrength
    TargetSelector = bts_player_demon
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 2000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 500
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  BuffResearchUnlock
    Unlocks
      Item = res_powerchamber.stage_2
      Item = res_powerchamber.stage_3
  BuffProperties
    Properties
      Item
        Property = ImpersonateManager.FocusPointsMax
        Value
          ValueType = Constant
          Value = 5
      Item
        Property = LevelUp.MaxLevel
        Value
          ValueType = Constant
          Value = 1
  UiDataResearchStage
    Description = res_demon_X_desc
  BuffChangeUnitDamageResearchBuffStrength
    StrengthChange = 0.01
res_demons.stage_2
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
      Item = BuffProperties
      Item = BuffChangeUnitDamageResearchBuffStrength
    TargetSelector = bts_player_demon
  ResearchStage
    Cost
      CostEntries
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  BuffResearchUnlock
    Unlocks
      Item = res_arcanium
      Item = res_arcanium.stage_1
      Item = res_spells_simple
      Item = res_spells_simple.stage_1
      Item = res_infernal
      Item = res_infernal.stage_1
      Item = res_vortex.stage_2
      Item = res_gazer
      Item = res_gazer.stage_1
      Item = res_succubus
      Item = res_succubus.stage_1
  BuffProperties
    Properties
      Item
        Property = ImpersonateManager.FocusPointsMax
        Value
          ValueType = Constant
          Value = 5
      Item
        Property = LevelUp.MaxLevel
        Value
          ValueType = Constant
          Value = 1
  UiDataResearchStage
    Description = res_demon_X_desc
  BuffChangeUnitDamageResearchBuffStrength
    StrengthChange = 0.01
res_demons.stage_3
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
      Item = BuffResearchUnlock
      Item = BuffChangeUnitDamageResearchBuffStrength
    TargetSelector = bts_player_demon
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1250
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  BuffProperties
    Properties
      Item
        Property = ImpersonateManager.FocusPointsMax
        Value
          ValueType = Constant
          Value = 5
      Item
        Property = LevelUp.MaxLevel
        Value
          ValueType = Constant
          Value = 1
  BuffResearchUnlock
    Unlocks
      Item = res_imp.stage_2
      Item = res_vortex.stage_3
      Item = res_gazer.stage_2
  UiDataResearchStage
    Description = res_demon_X_desc
    AddNeedImage = 00000000000000000000000000000000
  BuffChangeUnitDamageResearchBuffStrength
    StrengthChange = 0.01
res_demons.stage_4
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
      Item = BuffProperties
      Item = BuffChangeUnitDamageResearchBuffStrength
    TargetSelector = bts_player_demon
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  BuffResearchUnlock
    Unlocks
      Item = res_vortex.stage_4
      Item = res_arcanium.stage_2
      Item = res_gazer.stage_3
      Item = res_infernal.stage_2
      Item = res_spells_charge
      Item = res_spells_charge.stage_1
      Item = res_succubus.stage_2
      Item = res_relaxchamber
      Item = res_relaxchamber.stage_1
  BuffProperties
    Properties
      Item
        Property = ImpersonateManager.FocusPointsMax
        Value
          ValueType = Constant
          Value = 5
      Item
        Property = LevelUp.MaxLevel
        Value
          ValueType = Constant
          Value = 1
  UiDataResearchStage
    Description = res_demon_X_desc
  BuffChangeUnitDamageResearchBuffStrength
    StrengthChange = 0.01
res_demons.stage_5
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
      Item = BuffProperties
      Item = BuffChangeUnitDamageResearchBuffStrength
    TargetSelector = bts_player_demon
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 400
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  BuffResearchUnlock
    Unlocks
      Item = res_imp.stage_3
      Item = res_spells_simple.stage_2
      Item = res_vortex.stage_5
      Item = res_gazer.stage_4
      Item = res_succubus.stage_3
  BuffProperties
    Properties
      Item
        Property = ImpersonateManager.FocusPointsMax
        Value
          ValueType = Constant
          Value = 5
      Item
        Property = LevelUp.MaxLevel
        Value
          ValueType = Constant
          Value = 1
  UiDataResearchStage
    Description = res_demon_X_desc
    AddNeedImage = d013b40677b10aa4e800494e08b71f8e
  BuffChangeUnitDamageResearchBuffStrength
    StrengthChange = 0.01
res_demons.stage_6
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
      Item = BuffProperties
      Item = BuffChangeUnitDamageResearchBuffStrength
    TargetSelector = bts_player_demon
  ResearchStage
    Cost
      CostEntries
        Item
          Value = 1500
          CurrencyManager = GoldManager
          ValueFactors = Append
        Item
          Value = 450
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
      Time = 0
  BuffResearchUnlock
    Unlocks
      Item = res_imp.stage_4
      Item = res_arcanium.stage_3
      Item = res_relaxchamber.stage_2
      Item = res_spells_charge.stage_2
      Item = res_torturechamber.stage_2
      Item = res_vortex.stage_6
  BuffProperties
    Properties
      Item
        Property = ImpersonateManager.FocusPointsMax
        Value
          ValueType = Constant
          Value = 5
      Item
        Property = LevelUp.MaxLevel
        Value
          ValueType = Constant
          Value = 1
  UiDataResearchStage
    Description = res_demon_X_desc
  BuffChangeUnitDamageResearchBuffStrength
    StrengthChange = 0.01
res_demons.stage_7
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
      Item = BuffProperties
      Item = BuffChangeUnitDamageResearchBuffStrength
    TargetSelector = bts_player_demon
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 2000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 450
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  BuffResearchUnlock
    Unlocks
      Item = res_arcanium.stage_4
      Item = res_succubus.stage_4
      Item = res_spells_simple.stage_3
      Item = res_relaxchamber.stage_3
      Item = res_torturechamber.stage_3
      Item = res_torturechamber
      Item = res_torturechamber.stage_1
  BuffProperties
    Properties
      Item
        Property = ImpersonateManager.FocusPointsMax
        Value
          ValueType = Constant
          Value = 5
      Item
        Property = LevelUp.MaxLevel
        Value
          ValueType = Constant
          Value = 1
  UiDataResearchStage
    Description = res_demon_X_desc
    AddNeedImage = 15ab978132071d942a3ebc9e8062dfe1
  BuffChangeUnitDamageResearchBuffStrength
    StrengthChange = 0.01
res_demons.stage_8
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
      Item = BuffResearchUnlock
      Item = BuffChangeUnitDamageResearchBuffStrength
    TargetSelector = bts_player_demon
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 2000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 500
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  BuffProperties
    Properties
      Item
        Property = ImpersonateManager.FocusPointsMax
        Value
          ValueType = Constant
          Value = 5
      Item
        Property = LevelUp.MaxLevel
        Value
          ValueType = Constant
          Value = 1
  BuffResearchUnlock
    Unlocks
      Item = res_infernal.stage_3
      Item = res_succubus.stage_5
      Item = res_spells_charge.stage_3
      Item = res_relaxchamber.stage_4
      Item = res_powerchamber
      Item = res_powerchamber.stage_1
  UiDataResearchStage
    Description = res_demon_X_desc
  BuffChangeUnitDamageResearchBuffStrength
    StrengthChange = 0.01
res_demons.stage_9
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
      Item = BuffChangeUnitDamageResearchBuffStrength
    TargetSelector = bts_player_demon
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 2000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 500
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  BuffProperties
    Properties
      Item
        Property = ImpersonateManager.FocusPointsMax
        Value
          ValueType = Constant
          Value = 5
      Item
        Property = LevelUp.MaxLevel
        Value
          ValueType = Constant
          Value = 1
  UiDataResearchStage
    Description = res_demon_X_desc
  BuffChangeUnitDamageResearchBuffStrength
    StrengthChange = 0.01
res_doors
  Include = res_base
  Research
    Stages
      Item = res_doors.stage_1
      Item = res_doors.stage_2
      Item = res_doors.stage_3
      Item = res_doors.stage_4
    AllowRandomLock = True
  UiDataResearch
    Icon = b1d8a528bdd747a46803ab49a3b40b57
    Faction = Dungeon
    Title = ui_doors
    Description = ui_doors_desc
    Flavour = ui_doors_flav
    SortOrder = 80
    TutorialTag = Research_Traps
res_doors.stage_1
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 800
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  UiDataResearchStage
    Description = res_doors_1_desc
  BuffResearchUnlock
    Unlocks
      Item = door_wood
res_doors.stage_2
  Buff
    Parts = Append
      Item = BuffResearchUnlock
      Item = ResearchStage
    TargetSelector = bts_player_own
  BuffResearchUnlock
    Unlocks = Append
      Item = door_iron
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 800
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
        Item
          Value = 100
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  UiDataResearchStage
    Description = res_doors_2_desc
res_doors.stage_3
  Buff
    Parts = Append
      Item = BuffResearchUnlock
      Item = ResearchStage
    TargetSelector = bts_player_own
  BuffResearchUnlock
    Unlocks = Append
      Item = door_security
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 800
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
        Item
          Value = 200
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  UiDataResearchStage
    Description = res_doors_3_desc
res_doors.stage_4
  Buff
    Parts = Append
      Item = ResearchStage
      Item = BuffProperties
      Item = BuffHealthOverTime
    TargetSelector = bts_door
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
        Item
          Value = 300
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
      Time = 0
  UiDataResearchStage
    Description = res_doors_4_desc
  BuffProperties
    Properties = Append
      Item
        Property = RebuildWhenKilled.AutoRebuildNoCosts
  BuffHealthOverTime
    Procentual = True
    Interval = 5
    HealthPerTick
      Value = 0.01
res_dungeon.stage_1
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 200
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
      Item = BuffResearchUnlock
      Item = BuffChangeUnitDamageResearchBuffStrength
    TargetSelector = bts_player_own
  BuffProperties
    Properties
      Item
        Property = ThroneRoomSpawner.MaxWorker
        Value
          ValueType = Constant
          Value = 5
  BuffResearchUnlock
    Unlocks
      Item = res_evilvault
      Item = res_treasury
      Item = res_evilvault.stage_1
      Item = res_treasury.stage_1
      Item = res_gurufarm
      Item = res_gurufarm.stage_1
      Item = res_throneroom
      Item = res_throneroom.stage_1
      Item = res_snot
      Item = res_snot.stage_1
  UiDataResearchStage
    Description = res_dungeon_X_desc
  BuffChangeUnitDamageResearchBuffStrength
    StrengthChange = 0.01
res_dungeon.stage_10
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 2000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
        Item
          Value = 500
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
      Item = BuffChangeUnitDamageResearchBuffStrength
    TargetSelector = bts_player_worker_protagonist
  BuffProperties
    Properties
      Item
        Property = LevelUp.MaxLevel
        Value
          ValueType = Constant
          Value = 1
      Item
        Property = ThroneRoomSpawner.MaxWorker
        Value
          ValueType = Constant
          Value = 5
  UiDataResearchStage
    Description = res_dungeon_X_desc
  BuffChangeUnitDamageResearchBuffStrength
    StrengthChange = 0.01
res_dungeon.stage_2
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 300
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
      Item = BuffResearchUnlock
      Item = BuffChangeUnitDamageResearchBuffStrength
    TargetSelector = bts_player_worker_protagonist
  BuffProperties
    Properties
      Item
        Property = LevelUp.MaxLevel
        Value
          ValueType = Constant
          Value = 1
      Item
        Property = ThroneRoomSpawner.MaxWorker
        Value
          ValueType = Constant
          Value = 5
  BuffResearchUnlock
    Unlocks
      Item = res_guardroom
      Item = res_treasury.stage_2
      Item = res_throneroom.stage_2
      Item = res_guardroom.stage_1
      Item = res_guardroom.stage_2
      Item = res_workshop
      Item = res_doors
      Item = res_doors.stage_1
      Item = res_workshop.stage_1
      Item = res_trap_ground
      Item = res_trap_ground.stage_1
      Item = res_snot.stage_2
      Item = res_trap_trigger
      Item = res_trap_trigger.stage_1
      Item = res_trap_simple
      Item = res_trap_simple.stage_1
  UiDataResearchStage
    Description = res_dungeon_X_desc
  BuffChangeUnitDamageResearchBuffStrength
    StrengthChange = 0.01
res_dungeon.stage_3
  ResearchStage
    Cost
      CostEntries
        Item
          Value = 500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
      Item = BuffResearchUnlock
      Item = BuffChangeUnitDamageResearchBuffStrength
    TargetSelector = bts_player_worker_protagonist
  BuffProperties
    Properties
      Item
        Property = LevelUp.MaxLevel
        Value
          ValueType = Constant
          Value = 1
      Item
        Property = ThroneRoomSpawner.MaxWorker
        Value
          ValueType = Constant
          Value = 5
  BuffResearchUnlock
    Unlocks
      Item = res_throneroom.stage_3
      Item = res_evilvault.stage_2
      Item = res_gurufarm.stage_2
      Item = res_snot.stage_3
      Item = res_workshop.stage_2
      Item = res_trap_ground.stage_2
      Item = res_treasury.stage_3
  UiDataResearchStage
    Description = res_dungeon_X_desc
  BuffChangeUnitDamageResearchBuffStrength
    StrengthChange = 0.01
res_dungeon.stage_4
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
        Item
          Value = 100
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
      Item = BuffResearchUnlock
      Item = BuffChangeUnitDamageResearchBuffStrength
    TargetSelector = bts_player_worker_protagonist
  BuffProperties
    Properties
      Item
        Property = LevelUp.MaxLevel
        Value
          ValueType = Constant
          Value = 1
      Item
        Property = ThroneRoomSpawner.MaxWorker
        Value
          ValueType = Constant
          Value = 5
  BuffResearchUnlock
    Unlocks
      Item = res_guardroom.stage_3
      Item = res_workshop.stage_3
      Item = res_gurufarm.stage_3
      Item = res_doors.stage_2
      Item = res_trap_ground.stage_3
      Item = res_throneroom.stage_4
      Item = res_snot.stage_4
  UiDataResearchStage
    Description = res_dungeon_X_desc
  BuffChangeUnitDamageResearchBuffStrength
    StrengthChange = 0.01
res_dungeon.stage_5
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
        Item
          Value = 150
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
      Item = BuffResearchUnlock
      Item = BuffChangeUnitDamageResearchBuffStrength
    TargetSelector = bts_player_worker_protagonist
  BuffProperties
    Properties
      Item
        Property = LevelUp.MaxLevel
        Value
          ValueType = Constant
          Value = 1
      Item
        Property = ThroneRoomSpawner.MaxWorker
        Value
          ValueType = Constant
          Value = 5
  BuffResearchUnlock
    Unlocks
      Item = res_snot.stage_5
      Item = res_throneroom.stage_5
      Item = res_guardroom.stage_4
      Item = res_gurufarm.stage_4
      Item = res_trap_simple.stage_2
      Item = res_treasury.stage_4
      Item = res_workshop.stage_4
  UiDataResearchStage
    Description = res_dungeon_X_desc
  BuffChangeUnitDamageResearchBuffStrength
    StrengthChange = 0.01
res_dungeon.stage_6
  ResearchStage
    Cost
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
        Item
          Value = 150
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
      Item = BuffResearchUnlock
      Item = BuffChangeUnitDamageResearchBuffStrength
    TargetSelector = bts_player_worker_protagonist
  BuffProperties
    Properties
      Item
        Property = LevelUp.MaxLevel
        Value
          ValueType = Constant
          Value = 1
      Item
        Property = ThroneRoomSpawner.MaxWorker
        Value
          ValueType = Constant
          Value = 5
  BuffResearchUnlock
    Unlocks
      Item = res_snot.stage_6
      Item = res_evilvault.stage_3
      Item = res_throneroom.stage_6
      Item = res_doors.stage_3
      Item = res_gurufarm.stage_5
      Item = res_trap_trigger.stage_2
  UiDataResearchStage
    Description = res_dungeon_X_desc
  BuffChangeUnitDamageResearchBuffStrength
    StrengthChange = 0.01
res_dungeon.stage_7
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
        Item
          Value = 300
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
      Item = BuffResearchUnlock
      Item = BuffChangeUnitDamageResearchBuffStrength
    TargetSelector = bts_player_worker_protagonist
  BuffProperties
    Properties
      Item
        Property = LevelUp.MaxLevel
        Value
          ValueType = Constant
          Value = 1
      Item
        Property = ThroneRoomSpawner.MaxWorker
        Value
          ValueType = Constant
          Value = 5
  BuffResearchUnlock
    Unlocks
      Item = res_workshop.stage_5
      Item = res_treasury.stage_5
      Item = res_trap_simple.stage_3
  UiDataResearchStage
    Description = res_dungeon_X_desc
  BuffChangeUnitDamageResearchBuffStrength
    StrengthChange = 0.01
res_dungeon.stage_8
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
        Item
          Value = 250
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
      Item = BuffResearchUnlock
      Item = BuffChangeUnitDamageResearchBuffStrength
    TargetSelector = bts_player_worker_protagonist
  BuffProperties
    Properties
      Item
        Property = LevelUp.MaxLevel
        Value
          ValueType = Constant
          Value = 1
      Item
        Property = ThroneRoomSpawner.MaxWorker
        Value
          ValueType = Constant
          Value = 5
  BuffResearchUnlock
    Unlocks
      Item = res_workshop.stage_6
      Item = res_doors.stage_4
      Item = res_trap_trigger.stage_3
  UiDataResearchStage
    Description = res_dungeon_X_desc
  BuffChangeUnitDamageResearchBuffStrength
    StrengthChange = 0.01
res_dungeon.stage_9
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
        Item
          Value = 400
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
      Item = BuffChangeUnitDamageResearchBuffStrength
    TargetSelector = bts_player_worker_protagonist
  BuffProperties
    Properties
      Item
        Property = LevelUp.MaxLevel
        Value
          ValueType = Constant
          Value = 1
      Item
        Property = ThroneRoomSpawner.MaxWorker
        Value
          ValueType = Constant
          Value = 5
  UiDataResearchStage
    Description = res_dungeon_X_desc
  BuffChangeUnitDamageResearchBuffStrength
    StrengthChange = 0.01
res_evilvault.stage_1
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  BuffResearchUnlock
    Unlocks
      Item = room_evilvault
  UiDataResearchStage
    Description = res_common_unlockroom
res_evilvault.stage_2
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_vault
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
        Item
          Value = 50
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  BuffProperties
    Properties
      Item
        Property = GeneralStorageRoom.CapacityPerTile
        Value
          ValueType = Constant
          Value = 20
      Item
        Property = RoomCollection.CapacityPerTileBase
        Value
          ValueType = Constant
          Value = 20
  UiDataResearchStage
    Description = res_common_capacitypertile
res_evilvault.stage_3
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_vault
  BuffProperties
    Properties
      Item
        Property = GeneralStorageRoom.CapacityPerTile
        Value
          ValueType = Constant
          Value = 40
      Item
        Property = RoomCollection.CapacityPerTileBase
        Value
          ValueType = Constant
          Value = 40
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
        Item
          Value = 100
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  UiDataResearchStage
    Description = res_common_capacitypertile
res_gazer.stage_1
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 150
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  BuffResearchUnlock
    Unlocks
      Item = unit_gazer
  UiDataResearchStage
    Description = res_common_unlockcreature
res_gazer.stage_2
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_gazer
  ResearchStage
    Cost
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 100
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
      Time = 0
  UiDataResearchStage
    Description = res_gazer_2_desc
  BuffProperties
    Properties = Append
      Item
        Property = Attack.RangeBonus
        Value
          ValueType = Constant
          Value = 2
res_gazer.stage_3
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_gazer
  BuffProperties
    Properties
      Item
        Property = Attack.SkillStrengthBase
        Value
          ValueType = Constant
          Value = 25
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 200
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  UiDataResearchStage
    Description = res_gazer_3_desc
res_gazer.stage_4
  Buff
    Parts = Append
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_gazer
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 750
          ValueFactors = Append
            Item = factor_cost_res_demon
          CurrencyManager = GoldManager
        Item
          Value = 200
          ValueFactors = Append
            Item = factor_cost_res_demon
          CurrencyManager = EvilnessManager
  UiDataResearchStage
    Description = res_gazer_4_desc
  BuffProperties
    Properties = Append
      Item
        Property = Attack.SkillAreaBase
        Value
          ValueType = Constant
          Value = 4
res_gnome.stage_1
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 350
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  BuffResearchUnlock
    Unlocks
      Item = unit_gnome
  UiDataResearchStage
    Description = res_common_unlockcreature
res_gnome.stage_2
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 50
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  UiDataResearchStage
    Description = res_gnome_2_desc
  BuffResearchUnlock
    Unlocks
      Item = anim_skill_gnome
res_gnome.stage_3
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_gnome
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 100
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  BuffProperties
    Properties
      Item
        Property = Attack.AreaBase
        Value
          ValueType = Constant
          Value = 1
  UiDataResearchStage
    Description = res_gnome_3_desc
res_gnome.stage_4
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_gnome
  ResearchStage
    Cost
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 100
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
      Time = 0
  UiDataResearchStage
    Description = res_gnome_4_desc
  BuffProperties
    Properties
      Item
        Property = Attack.SkillAreaBase
        Value
          ValueType = Constant
          Value = 1
res_gnome.stage_5
  Buff
    Parts = Append
      Item = BuffResearchUnlock
      Item = ResearchStage
    TargetSelector = bts_player_own
  BuffResearchUnlock
    Unlocks = Append
      Item = unit_gnome_champion
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 300
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  UiDataResearchStage
    Description = res_gnome_5_desc
res_goblin.stage_1
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 100
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  BuffResearchUnlock
    Unlocks
      Item = unit_goblin
  UiDataResearchStage
    Description = res_common_unlockcreature
res_goblin.stage_2
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_goblin_near_raging_orc
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 50
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  UiDataResearchStage
    Description = res_goblin_2_desc
  BuffProperties
    Properties
      Item
        Property = Attack.AttackDamageFactor
        Value
          ValueType = Constant
          Value = 0.3
res_goblin.stage_3
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_goblin
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 100
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  UiDataResearchStage
    Description = res_goblin_3_desc
  BuffProperties
    Properties
      Item
        Property = Attack.SkillStrengthBase
        Value
          ValueType = Constant
          Value = 25
res_goblin.stage_4
  Buff
    Parts = Append
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_goblin
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 150
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  UiDataResearchStage
    Description = res_goblin_4_desc
  BuffProperties
    Properties = Append
      Item
        Property = Attack.IgnoreArmorFactor
        Value
          ValueType = Constant
          Value = -0.75
res_goblin.stage_5
  Buff
    Parts = Append
      Item = BuffResearchUnlock
      Item = ResearchStage
    TargetSelector = bts_player_own
  BuffResearchUnlock
    Unlocks = Append
      Item = unit_goblin_champion
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 300
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  UiDataResearchStage
    Description = res_goblin_5_desc
res_graveyard.stage_1
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1250
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  BuffResearchUnlock
    Unlocks
      Item = room_graveyard
  UiDataResearchStage
    Description = res_common_unlockroom
res_graveyard.stage_2
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_hero
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 200
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  UiDataResearchStage
    Description = res_graveyard_2_desc
  BuffProperties
    Properties = Append
      Item
        Property = TeleportIntoRoomWhenKilled.Unlocked
        Value
          ValueType = Constant
          Value = 1
res_graveyard.stage_3
  Buff
    Parts = Append
      Item = ResearchStage
      Item = ModifyStaticFactor
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 250
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  UiDataResearchStage
    Description = res_graveyard_3_desc
  ModifyStaticFactor
    Factor = factor_initial_level_bonus_undead
    Value
      ValueType = Constant
      Value = 1
res_graveyard.stage_4
  Buff
    Parts = Append
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_graveyard
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 300
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  UiDataResearchStage
    Description = res_common_efficiency
  BuffProperties
    Properties = Append
      Item
        Property = Room.EfficiencyBonus
        Value
          ValueType = Constant
          Value = 1
res_graveyard.stage_5
  Buff
    Parts = Append
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_undead
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 300
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  UiDataResearchStage
    Description = res_graveyard_5_desc
  BuffProperties
    Properties = Append
      Item
        Property = Combat.MaxHealthBonusFactor
        Value
          ValueType = Constant
          Value = 0.2
res_guardroom.stage_1
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  BuffResearchUnlock
    Unlocks
      Item = room_guardroom
      Item = gimmick_guardroom
  UiDataResearchStage
    Description = res_common_unlockroom
res_guardroom.stage_2
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_guarding_unit
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
        Item
          Value = 50
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  UiDataResearchStage
    Description = res_guardroom_2_desc
  BuffProperties
    Properties
      Item
        Property = Combat.ArmorBase
        Value
          ValueType = Constant
          Value = 3
res_guardroom.stage_3
  Buff
    Parts
      Item = ResearchStage
      Item = MonsterNeedBuffPart
    TargetSelector = bts_player_guarding_unit_no_protagonist
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
        Item
          Value = 50
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  UiDataResearchStage
    Description = res_guardroom_3_desc
  MonsterNeedBuffPart
    TargetNeeds
      Item
        Need = need_bath
        NeedGainFactor
          ValueType = Constant
          Value = -0.5
      Item
        Need = need_dance
        NeedGainFactor
          ValueType = Constant
          Value = -0.5
      Item
        Need = need_healing
        NeedGainFactor
          ValueType = Constant
          Value = -0.5
      Item
        Need = need_hunger
        NeedGainFactor
          ValueType = Constant
          Value = -0.5
      Item
        Need = need_sleep
        NeedGainFactor
          ValueType = Constant
          Value = -0.5
      Item
        Need = need_thirst
        NeedGainFactor
          ValueType = Constant
          Value = -0.5
      Item
        Need = need_torture
        NeedGainFactor
          ValueType = Constant
          Value = -0.5
      Item
        Need = need_train
        NeedGainFactor
          ValueType = Constant
          Value = -0.5
      Item
        Need = need_worship
        NeedGainFactor
          ValueType = Constant
          Value = -0.5
res_guardroom.stage_4
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_guarding_unit
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
        Item
          Value = 100
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  UiDataResearchStage
    Description = res_guardroom_4_desc
  BuffProperties
    Properties
      Item
        Property = Combat.ArmorBase
        Value
          ValueType = Constant
          Value = 3
res_gurufarm.stage_1
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  BuffResearchUnlock
    Unlocks
      Item = room_gurufarm
  UiDataResearchStage
    Description = res_common_unlockroom
res_gurufarm.stage_2
  Buff
    Parts
      Item = BuffProperties
      Item = ResearchStage
    TargetSelector = bts_player_gurufarm
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
        Item
          Value = 50
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  BuffProperties
    Properties = Append
      Item
        Property = GeneralStorageRoom.CapacityPerTile
        Value
          ValueType = Constant
          Value = 1
      Item
        Property = RoomCollection.CapacityPerTileBase
        Value
          ValueType = Constant
          Value = 1
  UiDataResearchStage
    Description = res_common_capacitypertile
res_gurufarm.stage_3
  Buff
    Parts
      Item = BuffProperties
      Item = ResearchStage
    TargetSelector = bts_player_gurufarm
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
        Item
          Value = 100
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  BuffProperties
    Properties = Append
      Item
        Property = Room.EfficiencyBonus
        Value
          ValueType = Constant
          Value = 0.5
  UiDataResearchStage
    Description = res_common_efficiency
res_gurufarm.stage_4
  Buff
    Parts
      Item = BuffProperties
      Item = ResearchStage
    TargetSelector = bts_player_gurufarm
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1250
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
        Item
          Value = 100
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  BuffProperties
    Properties = Append
      Item
        Property = GeneralStorageRoom.CapacityPerTile
        Value
          ValueType = Constant
          Value = 2
      Item
        Property = RoomCollection.CapacityPerTileBase
        Value
          ValueType = Constant
          Value = 2
  UiDataResearchStage
    Description = res_common_capacitypertile
res_gurufarm.stage_5
  Buff
    Parts = Append
      Item = BuffProperties
      Item = ResearchStage
    TargetSelector = bts_player_gurufarm
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1250
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
        Item
          Value = 250
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  BuffProperties
    Properties = Append
      Item
        Property = Room.EfficiencyBonus
        Value
          ValueType = Constant
          Value = 1
  UiDataResearchStage
    Description = res_common_efficiency
res_hideout.stage_1
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  BuffResearchUnlock
    Unlocks
      Item = room_hideout
  UiDataResearchStage
    Description = res_common_unlockroom
res_hideout.stage_2
  Buff
    Parts
      Item = ResearchStage
      Item = MonsterNeedBuffPart
    TargetSelector = bts_player_horde
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 100
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  UiDataResearchStage
    Description = res_hideout_2_desc
  MonsterNeedBuffPart
    TargetNeeds
      Item
        Need = need_healing
        Interval
          ValueType = Constant
          Value = ""
        ResourceAmount
          ValueType = Constant
          Value = ""
        NeedGainFactor
          ValueType = Constant
          Value = ""
        DurationBonusFactor
          ValueType = Constant
          Value = -0.5
res_hideout.stage_3
  Buff
    Parts
      Item = ResearchStage
      Item = ModifyStaticFactor
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 200
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  UiDataResearchStage
    Description = res_hideout_3_desc
  ModifyStaticFactor
    Factor = factor_initial_level_bonus_horde
    Value
      ValueType = Constant
      Value = 1
res_hideout.stage_4
  Buff
    Parts = Append
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_horde
  BuffProperties
    Properties = Append
      Item
        Property = LevelUp.XpGainBonus
        Value
          ValueType = Constant
          Value = 10
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 250
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  UiDataResearchStage
    Description = res_hideout_4_desc
res_hideout.stage_5
  Buff
    Parts = Append
      Item = BuffProperties
      Item = ResearchStage
    TargetSelector = bts_player_horde
  BuffProperties
    Properties = Append
      Item
        Property = Combat.MaxHealthBonusFactor
        Value
          ValueType = Constant
          Value = 0.25
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 400
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  UiDataResearchStage
    Description = res_hideout_5_desc
res_hideout.stage_6
  Buff
    Parts = Append
      Item = ModifyStaticFactor
      Item = ResearchStage
    TargetSelector = bts_player_horde
  UiDataResearchStage
    Description = res_hideout_3_desc
  ModifyStaticFactor
    Factor = factor_initial_level_bonus_horde
    Value
      ValueType = Constant
      Value = 1
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 500
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
res_horde.stage_1
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
      Item = BuffProperties
      Item = BuffChangeUnitDamageResearchBuffStrength
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  BuffResearchUnlock
    Unlocks
      Item = res_hideout
      Item = res_orc
      Item = res_naga
      Item = res_hideout.stage_1
      Item = res_orc.stage_1
      Item = res_naga.stage_1
  UiDataResearchStage
    Description = res_horde_X_desc
  BuffProperties
    Properties = Append
      Item
        Property = ImpersonateManager.FocusPointsMax
        Value
          ValueType = Constant
          Value = 5
  BuffChangeUnitDamageResearchBuffStrength
    StrengthChange = 0.01
res_horde.stage_10
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
      Item = BuffResearchUnlock
      Item = BuffChangeUnitDamageResearchBuffStrength
    TargetSelector = bts_player_horde
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 2000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 500
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  BuffProperties
    Properties
      Item
        Property = ImpersonateManager.FocusPointsMax
        Value
          ValueType = Constant
          Value = 5
      Item
        Property = LevelUp.MaxLevel
        Value
          ValueType = Constant
          Value = 1
  BuffResearchUnlock
    Unlocks
      Item = res_totem.stage_3
  UiDataResearchStage
    Description = res_horde_X_desc
  BuffChangeUnitDamageResearchBuffStrength
    StrengthChange = 0.01
res_horde.stage_2
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
      Item = BuffProperties
      Item = BuffChangeUnitDamageResearchBuffStrength
    TargetSelector = bts_player_horde
  ResearchStage
    Cost
      Time = 25
      CostEntries
        Item
          Value = 1250
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  BuffResearchUnlock
    Unlocks
      Item = res_orc.stage_2
      Item = res_arena.stage_1
      Item = res_goblin
      Item = res_goblin.stage_1
      Item = res_gnome
      Item = res_gnome.stage_1
      Item = res_hideout.stage_2
      Item = res_arena
  BuffProperties
    Properties
      Item
        Property = ImpersonateManager.FocusPointsMax
        Value
          ValueType = Constant
          Value = 5
      Item
        Property = LevelUp.MaxLevel
        Value
          ValueType = Constant
          Value = 1
  UiDataResearchStage
    Description = res_horde_X_desc
  BuffChangeUnitDamageResearchBuffStrength
    StrengthChange = 0.01
res_horde.stage_3
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
      Item = BuffProperties
      Item = BuffChangeUnitDamageResearchBuffStrength
    TargetSelector = bts_player_horde
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1250
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  BuffResearchUnlock
    Unlocks
      Item = res_hideout.stage_3
      Item = res_naga.stage_2
      Item = res_goblin.stage_2
      Item = res_arena.stage_2
      Item = res_orc.stage_3
      Item = res_gnome.stage_2
      Item = res_potionlodge
      Item = res_potionlodge.stage_1
  BuffProperties
    Properties
      Item
        Property = ImpersonateManager.FocusPointsMax
        Value
          ValueType = Constant
          Value = 5
      Item
        Property = LevelUp.MaxLevel
        Value
          ValueType = Constant
          Value = 1
  UiDataResearchStage
    Description = res_horde_X_desc
    AddNeedImage = 00000000000000000000000000000000
  BuffChangeUnitDamageResearchBuffStrength
    StrengthChange = 0.01
res_horde.stage_4
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
      Item = BuffProperties
      Item = BuffChangeUnitDamageResearchBuffStrength
    TargetSelector = bts_player_horde
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 250
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  BuffResearchUnlock
    Unlocks
      Item = res_naga.stage_3
      Item = res_gnome.stage_3
      Item = res_potionlodge.stage_2
      Item = res_potions_simple
      Item = res_potions_simple.stage_1
      Item = res_arena.stage_3
      Item = res_goblin.stage_3
      Item = res_orc.stage_4
      Item = res_hideout.stage_4
      Item = res_potions_complex
      Item = res_potions_complex.stage_1
  BuffProperties
    Properties
      Item
        Property = ImpersonateManager.FocusPointsMax
        Value
          ValueType = Constant
          Value = 5
      Item
        Property = LevelUp.MaxLevel
        Value
          ValueType = Constant
          Value = 1
  UiDataResearchStage
    Description = res_horde_X_desc
    AddNeedImage = 8d269b37eda658c4cb01339779a7abb6
  BuffChangeUnitDamageResearchBuffStrength
    StrengthChange = 0.01
res_horde.stage_5
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
      Item = BuffProperties
      Item = BuffChangeUnitDamageResearchBuffStrength
    TargetSelector = bts_player_horde
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 300
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  BuffResearchUnlock
    Unlocks
      Item = res_potionlodge.stage_3
      Item = res_arena.stage_4
      Item = res_hideout.stage_5
      Item = res_naga.stage_4
      Item = res_goblin.stage_4
      Item = res_gnome.stage_4
      Item = res_brewery
      Item = res_brewery.stage_1
  BuffProperties
    Properties
      Item
        Property = ImpersonateManager.FocusPointsMax
        Value
          ValueType = Constant
          Value = 5
      Item
        Property = LevelUp.MaxLevel
        Value
          ValueType = Constant
          Value = 1
  UiDataResearchStage
    Description = res_horde_X_desc
    AddNeedImage = 00000000000000000000000000000000
  BuffChangeUnitDamageResearchBuffStrength
    StrengthChange = 0.01
res_horde.stage_6
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
      Item = BuffProperties
      Item = BuffChangeUnitDamageResearchBuffStrength
    TargetSelector = bts_player_horde
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 350
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  BuffResearchUnlock
    Unlocks
      Item = res_potionlodge.stage_4
      Item = res_potions_simple.stage_2
      Item = res_orc.stage_5
      Item = res_naga.stage_5
      Item = res_gnome.stage_5
      Item = res_goblin.stage_5
      Item = res_hideout.stage_6
      Item = res_totem
      Item = res_totem.stage_1
  BuffProperties
    Properties
      Item
        Property = ImpersonateManager.FocusPointsMax
        Value
          ValueType = Constant
          Value = 5
      Item
        Property = LevelUp.MaxLevel
        Value
          ValueType = Constant
          Value = 1
  UiDataResearchStage
    Description = res_horde_X_desc
    AddNeedImage = 562d0704c4bb6024db3a72b0f776793f
  BuffChangeUnitDamageResearchBuffStrength
    StrengthChange = 0.01
res_horde.stage_7
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
      Item = BuffProperties
      Item = BuffChangeUnitDamageResearchBuffStrength
    TargetSelector = bts_player_horde
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 400
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  BuffResearchUnlock
    Unlocks
      Item = res_potionlodge.stage_5
      Item = res_potions_complex.stage_2
      Item = res_brewery.stage_2
  BuffProperties
    Properties
      Item
        Property = ImpersonateManager.FocusPointsMax
        Value
          ValueType = Constant
          Value = 5
      Item
        Property = LevelUp.MaxLevel
        Value
          ValueType = Constant
          Value = 1
  UiDataResearchStage
    Description = res_horde_X_desc
  BuffChangeUnitDamageResearchBuffStrength
    StrengthChange = 0.01
res_horde.stage_8
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
      Item = BuffProperties
      Item = BuffChangeUnitDamageResearchBuffStrength
    TargetSelector = bts_player_horde
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 2000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 400
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  BuffResearchUnlock
    Unlocks
      Item = res_potions_simple.stage_3
      Item = res_totem.stage_2
      Item = res_brewery.stage_3
  BuffProperties
    Properties
      Item
        Property = ImpersonateManager.FocusPointsMax
        Value
          ValueType = Constant
          Value = 5
      Item
        Property = LevelUp.MaxLevel
        Value
          ValueType = Constant
          Value = 1
  UiDataResearchStage
    Description = res_horde_X_desc
  BuffChangeUnitDamageResearchBuffStrength
    StrengthChange = 0.01
res_horde.stage_9
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
      Item = BuffResearchUnlock
      Item = BuffChangeUnitDamageResearchBuffStrength
    TargetSelector = bts_player_horde
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 2000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 500
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  BuffProperties
    Properties
      Item
        Property = ImpersonateManager.FocusPointsMax
        Value
          ValueType = Constant
          Value = 5
      Item
        Property = LevelUp.MaxLevel
        Value
          ValueType = Constant
          Value = 1
  UiDataResearchStage
    Description = res_horde_X_desc
  BuffResearchUnlock
    Unlocks = Append
      Item = res_potions_complex.stage_3
  BuffChangeUnitDamageResearchBuffStrength
    StrengthChange = 0.01
res_imp.stage_1
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  BuffResearchUnlock
    Unlocks
      Item = unit_imp
  UiDataResearchStage
    Description = res_common_unlockcreature
res_imp.stage_2
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_imp
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 100
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  UiDataResearchStage
    Description = res_imp_2_desc
  BuffProperties
    Properties = Append
      Item
        Property = Attack.RangeBonus
        Value
          ValueType = Constant
          Value = 4
res_imp.stage_3
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_imp
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 200
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  UiDataResearchStage
    Description = res_imp_3_desc
  BuffProperties
    Properties = Append
      Item
        Property = Attack.IgnoreArmorFactor
        Value
          ValueType = Constant
          Value = 0.5
res_imp.stage_4
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_imp
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 300
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  UiDataResearchStage
    Description = res_imp_4_desc
  BuffResearchUnlock
    Unlocks = Append
      Item = skill_effect_simple_damage_imp.buff
res_infernal.stage_1
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 300
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  BuffResearchUnlock
    Unlocks
      Item = unit_infernal
  UiDataResearchStage
    Description = res_common_unlockcreature
res_infernal.stage_2
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_infernal
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 150
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  UiDataResearchStage
    Description = res_infernal_2_desc
  BuffProperties
    Properties
      Item
        Property = Attack.SkillAreaBase
        Value
          ValueType = Constant
          Value = 0.25
res_infernal.stage_3
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_infernal
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 250
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  UiDataResearchStage
    Description = res_infernal_3_desc
  BuffProperties
    Properties
      Item
        Property = Attack.SkillRangeBase
        Value
          ValueType = Constant
          Value = 0.25
res_naga.stage_1
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  BuffResearchUnlock
    Unlocks
      Item = unit_naga
  UiDataResearchStage
    Description = res_common_unlockcreature
res_naga.stage_2
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_naga
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 50
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  UiDataResearchStage
    Description = res_naga_2_desc
  BuffProperties
    Properties = Append
      Item
        Property = Attack.SkillRangeBase
        Value
          ValueType = Constant
          Value = 2
res_naga.stage_3
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_orc_healed_by_naga
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 100
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  UiDataResearchStage
    Description = res_naga_3_desc
  BuffProperties
    Properties
      Item
        Property = Combat.RegenerationRateBonusFactor
        Value
          ValueType = Constant
          Value = 0.25
res_naga.stage_4
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_naga
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 150
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  UiDataResearchStage
    Description = res_naga_4_desc
  BuffProperties
    Properties
      Item
        Property = Attack.SkillBonusAttacks
        Value
          ValueType = Constant
          Value = 1
res_naga.stage_5
  Buff
    Parts = Append
      Item = BuffResearchUnlock
      Item = ResearchStage
    TargetSelector = bts_player_own
  BuffResearchUnlock
    Unlocks = Append
      Item = unit_naga_champion
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 300
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  UiDataResearchStage
    Description = res_naga_5_desc
res_necrodancicon
  Include = res_base
  Research
    Stages
      Item = res_necrodancicon.stage_1
      Item = res_necrodancicon.stage_2
      Item = res_necrodancicon.stage_3
      Item = res_necrodancicon.stage_4
    BlackListFollow = res_undead.stage_5
  UiDataResearch
    Icon = 7390d461c8c3c6c45a991f3d759a2fac
    Faction = Undead
    Title = room_necrodancicon_capt
    Description = room_necrodancicon_desc
    Flavour = room_necrodancicon_flav
    SortOrder = 670
    TutorialTag = Research_Necrodancicon
res_necrodancicon.stage_1
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 200
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  BuffResearchUnlock
    Unlocks
      Item = room_necrodancicon
  UiDataResearchStage
    Description = res_common_unlockroom
res_necrodancicon.stage_2
  Buff
    Parts = Append
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_necrodancicon_workplace
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 150
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  UiDataResearchStage
    Description = res_necrodancicon_stage_2_desc
  BuffProperties
    Properties = Append
      Item
        Property = Workplace.FinishBuffStrength
        Value
          ValueType = Constant
          Value = 0.5
res_necrodancicon.stage_3
  Buff
    Parts = Append
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_necrodancicon_workplace
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1500
          CurrencyManager = GoldManager
          ValueFactors = Append
        Item
          Value = 200
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  UiDataResearchStage
    Description = res_necrodancicon_stage_3_desc
  BuffProperties
    Properties = Append
      Item
        Property = Workplace.FinishBuffStrength
        Value
          ValueType = Constant
          Value = 0.5
res_necrodancicon.stage_4
  Buff
    Parts = Append
      Item = ResearchStage
      Item = BuffActivateAura
    TargetSelector = bts_player_necrodancicon
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 200
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  UiDataResearchStage
    Description = res_necrodancicon_stage_4_desc
  BuffActivateAura
    AurasToActivate = Append
      Item
        Name = auto_production
        Template = room_necrodancicon
res_necromancer.stage_1
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 350
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  BuffResearchUnlock
    Unlocks
      Item = unit_necromancer
  UiDataResearchStage
    Description = res_common_unlockcreature
res_necromancer.stage_2
  Buff
    Parts
      Item = ResearchStage
      Item = DamageAspectBuffPart
    TargetSelector = bts_player_necromancer_minion
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 50
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  UiDataResearchStage
    Description = res_necromancer_2_desc
  DamageAspectBuffPart
    Aspects
      Item
        Aspect = aspect_ice
        AddToDefaultAttackDamage = True
        AddToSkillDamage = False
res_necromancer.stage_3
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 300
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  UiDataResearchStage
    Description = res_necromancer_3_desc
  BuffResearchUnlock
    Unlocks
      Item = anim_skill_necromancer
res_necromancer.stage_4
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_necromancer
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 100
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  BuffProperties
    Properties
      Item
        Property = Attack.RangeBonus
        Value
          ValueType = Constant
          Value = 2
  UiDataResearchStage
    Description = res_necromancer_4_desc
res_necromancer.stage_5
  Buff
    Parts
      Item = ResearchStage
      Item = DynamicAttackValueBuffPart
    TargetSelector = bts_player_necromancer
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 200
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  UiDataResearchStage
    Description = res_necromancer_5_desc
  DynamicAttackValueBuffPart
    TargetEntries = Append
      Item
        TargetTemplate = unit_necromancer
        Properties
          Item
            Target
              Name = armor_reduction
              Template = unit_necromancer
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 2
res_orc.stage_1
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  BuffResearchUnlock
    Unlocks
      Item = unit_orc
  UiDataResearchStage
    Description = res_common_unlockcreature
res_orc.stage_2
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 50
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  UiDataResearchStage
    Description = res_orc_2_desc
  BuffResearchUnlock
    Unlocks
      Item = anim_orc_bloodrush
res_orc.stage_3
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_raging_orc_being_healed
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 100
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  UiDataResearchStage
    Description = res_orc_3_desc
  BuffProperties
    Properties
      Item
        Property = Combat.ArmorFactor
        Value
          ValueType = Constant
          Value = 0.5
res_orc.stage_4
  Buff
    Parts = Append
      Item = BuffProperties
      Item = ResearchStage
    TargetSelector = bts_player_orc
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 150
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  UiDataResearchStage
    Description = res_orc_4_desc
  BuffProperties
    Properties = Append
      Item
        Property = NeedsHealingWhenKilled.InstantReviveUnlocked
res_orc.stage_5
  Buff
    Parts = Append
      Item = BuffResearchUnlock
      Item = ResearchStage
    TargetSelector = bts_player_own
  BuffResearchUnlock
    Unlocks = Append
      Item = unit_orc_champion
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 300
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  UiDataResearchStage
    Description = res_orc_5_desc
res_potionlodge
  Include = res_base
  Research
    Stages
      Item = res_potionlodge.stage_1
      Item = res_potionlodge.stage_2
      Item = res_potionlodge.stage_3
      Item = res_potionlodge.stage_4
      Item = res_potionlodge.stage_5
    AllowRandomLock = True
  UiDataResearch
    Faction = Horde
    Title = room_potionlodge_capt
    Description = room_potionlodge_desc
    Flavour = room_potionlodge_flav
    SortOrder = 270
    Icon = d966506645a18304fa07a628db0a1777
    TutorialTag = Research_Potionlodge
res_potionlodge.stage_1
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 150
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  BuffResearchUnlock
    Unlocks
      Item = room_potionlodge
      Item = gimmick_potionlodge
      Item = anim_spell_healing
      Item = anim_spell_speed
  UiDataResearchStage
    Description = res_common_unlockroom
res_potionlodge.stage_2
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_potionlodge
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 100
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  BuffProperties
    Properties
      Item
        Property = GeneralStorageRoom.CapacityPerTile
        Value
          ValueType = Constant
          Value = 3
      Item
        Property = RoomCollection.CapacityPerTileBase
        Value
          ValueType = Constant
          Value = 3
  UiDataResearchStage
    Description = res_common_capacitypertile
res_potionlodge.stage_3
  Buff
    Parts
      Item = ResearchStage
      Item = DynamicAttackValueBuffPart
    TargetSelector = bts_player_evilhand
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 150
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  UiDataResearchStage
    Description = res_potionlodge_3_desc
  DynamicAttackValueBuffPart
    TargetEntries = Append
      Item
        TargetTemplate = evil_hand
        Properties
          Item
            Target
              Name = heal_duration
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 5
          Item
            Target
              Name = heal_amount_min
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 90
          Item
            Target
              Name = heal_amount_max
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 110
          Item
            Target
              Name = heal_area
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 2
res_potionlodge.stage_4
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_potionlodge
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 200
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  BuffProperties
    Properties
      Item
        Property = Room.EfficiencyBonus
        Value
          ValueType = Constant
          Value = 0.5
  UiDataResearchStage
    Description = res_common_efficiency
res_potionlodge.stage_5
  Buff
    Parts = Append
      Item = ResearchStage
      Item = DynamicAttackValueBuffPart
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 250
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  UiDataResearchStage
    Description = res_potionlodge_5_desc
  DynamicAttackValueBuffPart
    TargetEntries = Append
      Item
        TargetTemplate = evil_hand
        Properties
          Item
            Target
              Name = heal_duration
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 10
          Item
            Target
              Name = heal_amount_min
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 90
          Item
            Target
              Name = heal_amount_max
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 110
res_potions_complex
  Include = res_base
  Research
    Stages = Append
      Item = res_potions_complex.stage_1
      Item = res_potions_complex.stage_2
      Item = res_potions_complex.stage_3
    AllowRandomLock = True
  UiDataResearch
    Faction = Horde
    SortOrder = 290
    Icon = f8873d100939f034f9eb0df544c2fe0a
    Title = res_potions_complex_capt
    Description = res_potions_complex_desc
res_potions_complex.stage_1
  Buff
    Parts = Append
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 200
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  BuffResearchUnlock
    Unlocks = Append
      Item = anim_spell_strength
      Item = anim_spell_poison
      Item = anim_spell_gold
      Item = anim_spell_explosion
      Item = potion_strength
      Item = potion_poison
      Item = potion_gold
      Item = potion_explosion
      Item = potion_perk
  UiDataResearchStage
    Description = res_potions_complex_X_desc
res_potions_complex.stage_2
  Buff
    Parts = Append
      Item = ResearchStage
      Item = DynamicAttackValueBuffPart
      Item = BuffResearchUnlock
      Item = ModifyMultipleStaticFactor
    TargetSelector = bts_player_evilhand_poison_explosion
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 300
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  UiDataResearchStage
    Description = res_potions_complex_X_desc
  DynamicAttackValueBuffPart
    TargetEntries = Append
      Item
        TargetTemplate = evil_hand
        Properties
          Item
            Target
              Name = strength_duration
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 20
          Item
            Target
              Name = poison_area
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 2
          Item
            Target
              Name = poison_slow_min
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 0.15
          Item
            Target
              Name = poison_slow_max
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 0.25
          Item
            Target
              Name = poison_duration
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 5
          Item
            Target
              Name = explosion_area
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 2
          Item
            Target
              Name = explosion_damage_min
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 100
          Item
            Target
              Name = explosion_damage_max
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 200
      Item
        TargetTemplate = skill_effect_spell_poison.explosion
        Properties
          Item
            Target
              Name = area
              Template = skill_effect_spell_poison.explosion
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 2
          Item
            Target
              Name = damage_min
              Template = skill_effect_spell_poison.explosion
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 50
          Item
            Target
              Name = damage_max
              Template = skill_effect_spell_poison.explosion
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 50
  BuffResearchUnlock
    Unlocks = Append
      Item = skill_effect_potion_explosion_knockdown
  ModifyMultipleStaticFactor
    FactorChanges
      Item
        Factor = factor_perk_potion_damage_min
        Value
          ValueType = Constant
          Value = 0.1
        Multiplicative = False
      Item
        Factor = factor_perk_potion_damage_max
        Value
          ValueType = Constant
          Value = 0.2
        Multiplicative = False
      Item
        Factor = factor_perk_potion_health_min
        Value
          ValueType = Constant
          Value = 0.1
        Multiplicative = False
      Item
        Factor = factor_perk_potion_health_max
        Value
          ValueType = Constant
          Value = 0.2
        Multiplicative = False
      Item
        Factor = factor_perk_potion_armor_max
        Value
          ValueType = Constant
          Value = 1
        Multiplicative = False
      Item
        Factor = factor_perk_potion_level
        Value
          ValueType = Constant
          Value = 1
        Multiplicative = False
res_potions_complex.stage_3
  Buff
    Parts = Append
      Item = ResearchStage
      Item = DynamicAttackValueBuffPart
      Item = ModifyMultipleStaticFactor
    TargetSelector = bts_player_evilhand_poison_explosion
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 400
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  UiDataResearchStage
    Description = res_potions_complex_X_desc
  DynamicAttackValueBuffPart
    TargetEntries = Append
      Item
        TargetTemplate = evil_hand
        Properties
          Item
            Target
              Name = strength_duration
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 20
          Item
            Target
              Name = strength_min
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 0.2
          Item
            Target
              Name = strength_max
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 0.2
          Item
            Target
              Name = poison_area
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 2
          Item
            Target
              Name = poison_duration
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 5
          Item
            Target
              Name = poison_slow_min
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 0.2
          Item
            Target
              Name = poison_slow_max
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 0.2
          Item
            Target
              Name = explosion_area
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 2
          Item
            Target
              Name = explosion_damage_min
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 100
          Item
            Target
              Name = explosion_damage_max
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 200
      Item
        TargetTemplate = skill_effect_spell_poison.explosion
        Properties
          Item
            Target
              Name = area
              Template = skill_effect_spell_poison.explosion
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 2
          Item
            Target
              Name = damage_min
              Template = skill_effect_spell_poison.explosion
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 100
          Item
            Target
              Name = damage_max
              Template = skill_effect_spell_poison.explosion
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 100
  ModifyMultipleStaticFactor
    FactorChanges
      Item
        Factor = factor_perk_potion_damage_min
        Value
          ValueType = Constant
          Value = 0.2
      Item
        Factor = factor_perk_potion_damage_max
        Value
          ValueType = Constant
          Value = 0.3
      Item
        Factor = factor_perk_potion_health_min
        Value
          ValueType = Constant
          Value = 0.2
      Item
        Factor = factor_perk_potion_health_max
        Value
          ValueType = Constant
          Value = 0.5
      Item
        Factor = factor_perk_potion_armor_min
        Value
          ValueType = Constant
          Value = 1
      Item
        Factor = factor_perk_potion_armor_max
        Value
          ValueType = Constant
          Value = 2
        Multiplicative = False
      Item
        Factor = factor_perk_potion_level
        Value
          ValueType = Constant
          Value = 1
        Multiplicative = False
res_potions_simple
  Include = res_base
  Research
    Stages = Append
      Item = res_potions_simple.stage_1
      Item = res_potions_simple.stage_2
      Item = res_potions_simple.stage_3
    AllowRandomLock = True
  UiDataResearch
    Faction = Horde
    SortOrder = 280
    Icon = fe407f218f4886c4b961a2ed2ef99264
    Title = res_potions_simple_capt
    Description = res_potions_simple_desc
res_potions_simple.stage_1
  Buff
    Parts = Append
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 200
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  BuffResearchUnlock
    Unlocks = Append
      Item = anim_spell_brainwash
      Item = anim_spell_improvedungeon
      Item = anim_spell_earth
      Item = anim_spell_slimedoor
      Item = potion_brainwash
      Item = potion_improvedungeon
      Item = potion_earth
      Item = potion_slimedoor
  UiDataResearchStage
    Description = res_potions_simple_X_desc
res_potions_simple.stage_2
  Buff
    Parts = Append
      Item = ResearchStage
      Item = DynamicAttackValueBuffPart
      Item = BuffResearchUnlock
    TargetSelector = bts_player_evilhand
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 300
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  UiDataResearchStage
    Description = res_potions_simple_X_desc
  DynamicAttackValueBuffPart
    TargetEntries = Append
      Item
        TargetTemplate = evil_hand
        Properties
          Item
            Target
              Name = speed_area
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 2
          Item
            Target
              Name = speed_strength_min
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 0.25
          Item
            Target
              Name = speed_strength_max
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 0.25
          Item
            Target
              Name = brainwash_area
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 2
          Item
            Target
              Name = improvedungeon_min
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 0.5
          Item
            Target
              Name = improvedungeon_max
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 0.5
          Item
            Target
              Name = earth_area
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 1
          Item
            Target
              Name = earth_diggable_wallstrength
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 1
          Item
            Target
              Name = slimedoor_selfdamage
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = -1
          Item
            Target
              Name = earth_damage_to_gold
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 300
  BuffResearchUnlock
    Unlocks = Append
      Item = door_slime.buff_poison
res_potions_simple.stage_3
  Buff
    Parts = Append
      Item = ResearchStage
      Item = DynamicAttackValueBuffPart
    TargetSelector = bts_player_evilhand_slimedoor
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 400
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  UiDataResearchStage
    Description = res_potions_simple_X_desc
  DynamicAttackValueBuffPart
    TargetEntries = Append
      Item
        TargetTemplate = evil_hand
        Properties
          Item
            Target
              Name = speed_area
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 2
          Item
            Target
              Name = speed_strength_min
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 0.25
          Item
            Target
              Name = speed_strength_max
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 0.25
          Item
            Target
              Name = brainwash_area
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 2
          Item
            Target
              Name = improvedungeon_min
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 0.9
          Item
            Target
              Name = improvedungeon_max
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 1.1
          Item
            Target
              Name = earth_diggable_wallstrength
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 1
          Item
            Target
              Name = slimedoor_health_min
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 800
          Item
            Target
              Name = slimedoor_health_max
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 1200
          Item
            Target
              Name = earth_damage_to_gold
              Template = evil_hand
            Value
              ValueType = Constant
              Value = 600
      Item
        TargetTemplate = door_slime
        Properties
          Item
            Target
              Name = poison_strength
              Template = door_slime
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 3
res_powerchamber.stage_1
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 300
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  BuffResearchUnlock
    Unlocks
      Item = room_powerchamber
      Item = gimmick_powerchamber
  UiDataResearchStage
    Description = res_common_unlockroom
res_powerchamber.stage_2
  Buff
    Parts
      Item = ResearchStage
      Item = ModifyStaticFactor
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 300
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  UiDataResearchStage
    Description = res_powerchamber_2_desc
  ModifyStaticFactor
    Factor = factor_cost_powerchamber_gimmick
    Value
      ValueType = Constant
      Value = 0.9
    Multiplicative = True
res_powerchamber.stage_3
  Buff
    Parts
      Item = ResearchStage
      Item = ModifyStaticFactor
    TargetSelector = bts_player_powerchamber_gimmick
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 300
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  UiDataResearchStage
    Description = res_powerchamber_3_desc
  ModifyStaticFactor
    Factor = factor_cost_powerchamber_gimmick
    Value
      ValueType = Constant
      Value = 0.9
    Multiplicative = True
res_prison.stage_1
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 300
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  BuffResearchUnlock
    Unlocks
      Item = room_prison
  UiDataResearchStage
    Description = res_common_unlockroom
res_prison.stage_2
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_prison
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 150
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  UiDataResearchStage
    Description = res_common_capacitypertile
  BuffProperties
    Properties = Append
      Item
        Property = RoomCollection.CapacityPerTileBase
        Value
          ValueType = Constant
          Value = 1
res_prison.stage_3
  UiDataResearchStage
    Description = res_prison_3_desc
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1250
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 200
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  BuffProperties
    Properties = Append
      Item
        Property = UnitEvilnessBonus.EvilnessBonusImprisonedFactor
        Value
          ValueType = Constant
          Value = 0.1
res_prison.stage_4
  UiDataResearchStage
    Description = res_common_efficiency
  Buff
    Parts = Append
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_prison
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1250
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 250
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  BuffProperties
    Properties = Append
      Item
        Property = Room.EfficiencyBonus
        Value
          ValueType = Constant
          Value = 0.5
res_relaxchamber.stage_1
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 150
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  BuffResearchUnlock
    Unlocks
      Item = room_relaxchamber
  UiDataResearchStage
    Description = res_common_unlockroom
res_relaxchamber.stage_2
  Buff
    Parts
      Item = ResearchStage
      Item = MonsterNeedBuffPart
    TargetSelector = bts_player_demon
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 200
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  UiDataResearchStage
    Description = res_relaxchamber_2_desc
  MonsterNeedBuffPart
    TargetNeeds = Append
      Item
        Need = need_bath
        BaseDuration
          ValueType = Constant
          Value = 
        DurationBonusFactor
          ValueType = Constant
          Value = 
        Interval
          ValueType = Constant
          Value = 
        ResourceAmount
          ValueType = Constant
          Value = 
        ResourceAmountFactor
          ValueType = Constant
          Value = -0.2
        NeedGainFactor
          ValueType = Constant
          Value = 
res_relaxchamber.stage_3
  Buff
    Parts
      Item = ResearchStage
      Item = MonsterNeedBuffPart
    TargetSelector = bts_player_demon
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 200
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  UiDataResearchStage
    Description = res_relaxchamber_3_desc
  MonsterNeedBuffPart
    TargetNeeds
      Item
        Need = need_bath
        BaseDuration
          ValueType = Constant
          Value = ""
        DurationBonusFactor
          ValueType = Constant
          Value = ""
        Interval
          ValueType = Constant
          Value = ""
        ResourceAmount
          ValueType = Constant
          Value = ""
        NeedGainFactor
          ValueType = Constant
          Value = 0.5
res_relaxchamber.stage_4
  Buff
    Parts
      Item = ResearchStage
      Item = MonsterNeedBuffPart
    TargetSelector = bts_demon
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 200
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  UiDataResearchStage
    Description = res_relaxchamber_4_desc
  MonsterNeedBuffPart
    TargetNeeds = Append
      Item
        Need = need_bath
        BaseDuration
          ValueType = Constant
          Value = 
        DurationBonusFactor
          ValueType = Constant
          Value = 
        Interval
          ValueType = Constant
          Value = 
        ResourceAmount
          ValueType = Constant
          Value = 
        ResourceAmountFactor
          ValueType = Constant
          Value = -0.2
        NeedGainFactor
          ValueType = Constant
          Value = 
res_skeletonlord.stage_1
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 100
          ValueFactors
            Item = factor_cost_res_undead
          CurrencyManager = EvilnessManager
  BuffResearchUnlock
    Unlocks
      Item = unit_skeleton
      Item = gimmick_graveyard_skeleton
  UiDataResearchStage
    Description = res_common_unlockcreature
res_skeletonlord.stage_2
  Buff
    Parts
      Item = ResearchStage
      Item = BuffActivateAura
    TargetSelector = bts_player_skeletonlord
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 100
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  UiDataResearchStage
    Description = res_skeleton_2_desc
  BuffActivateAura
    AurasToActivate = Append
      Item
        Name = researchable_aura_armor
        Template = unit_skeleton
res_skeletonlord.stage_3
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
      Item = DynamicAttackValueBuffPart
      Item = BuffResearchUnlock
    TargetSelector = bts_player_skeletonlord_minion
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 200
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  UiDataResearchStage
    Description = res_skeleton_3_desc
  BuffProperties
    Properties
      Item
        Property = Attack.RangeBase
        Value
          ValueType = Constant
          Value = 5
  DynamicAttackValueBuffPart
    TargetEntries = Append
      Item
        TargetTemplate = unit_skeleton_minion
        Properties
          Item
            Target
              Name = cooldown_to_prevent_single_target_skill
              Template = unit_skeleton_minion
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 999999
  BuffResearchUnlock
    Unlocks = Append
      Item = anim_default_attack_ranged_area_skeletonmage
res_skeletonlord.stage_4
  Buff
    Parts = Append
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_skeletonlord
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 150
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  UiDataResearchStage
    Description = res_skeleton_4_desc
  BuffProperties
    Properties = Append
      Item
        Property = Combat.HealthRegainFromLeechFactor
        Value
          ValueType = Constant
          Value = 0.5
res_skeletonlord.stage_5
  Buff
    Parts = Append
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_skeletonlord
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 300
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  UiDataResearchStage
    Description = res_skeleton_5_desc
  BuffProperties
    Properties = Append
      Item
        Property = ResurrectWhenKilled.InstantReviveUnlocked
        Value
          ValueType = Constant
          Value = 2
res_snot.stage_1
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_snot
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  UiDataResearchStage
    Description = res_snot_1_desc
  BuffProperties
    Properties
      Item
        Property = GettingSlapped.SlapBuffStrength
        Value
          ValueType = Constant
          Value = 0.25
res_snot.stage_2
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
        Item
          Value = 50
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  UiDataResearchStage
    Description = res_snot_2_desc
  BuffResearchUnlock
    Unlocks = Append
      Item = unit_snot.buff_dash
res_snot.stage_3
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
        Item
          Value = 250
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  UiDataResearchStage
    Description = res_snot_3_desc
  BuffProperties
    Properties
      Item
        Property = DigManager.DiggableWallStrength
        Value
          ValueType = Constant
          Value = 1
res_snot.stage_4
  Buff
    Parts = Append
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_snot
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1000
          ValueFactors = Append
            Item = factor_cost_res_dungeon
          CurrencyManager = GoldManager
        Item
          Value = 250
          ValueFactors = Append
            Item = factor_cost_res_dungeon
          CurrencyManager = EvilnessManager
  UiDataResearchStage
    Description = res_snot_5_desc
  BuffProperties
    Properties = Append
      Item
        Property = CombatIgnored.IgnoreUnlocked
res_snot.stage_5
  Buff
    Parts = Append
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1500
          ValueFactors = Append
            Item = factor_cost_res_dungeon
          CurrencyManager = GoldManager
        Item
          Value = 300
          ValueFactors = Append
            Item = factor_cost_res_dungeon
          CurrencyManager = EvilnessManager
  UiDataResearchStage
    Description = res_snot_6_desc
  BuffProperties
    Properties = Append
      Item
        Property = DigManager.DiggableWallStrength
        Value
          ValueType = Constant
          Value = 1
res_snot.stage_6
  Buff
    Parts = Append
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_snot
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1500
          ValueFactors = Append
            Item = factor_cost_res_dungeon
          CurrencyManager = GoldManager
        Item
          Value = 300
          ValueFactors = Append
            Item = factor_cost_res_dungeon
          CurrencyManager = EvilnessManager
  UiDataResearchStage
    Description = res_snot_7_desc
  BuffProperties
    Properties = Append
      Item
        Property = TeleportToJob.IsUnlocked
res_spells_charge
  Include = res_base
  Research
    Stages = Append
      Item = res_spells_charge.stage_1
      Item = res_spells_charge.stage_2
      Item = res_spells_charge.stage_3
    AllowRandomLock = True
  UiDataResearch
    Faction = Demon
    SortOrder = 480
    Icon = ecc9e130db5aeeb459ca2af498277cfc
    Title = res_spells_charge_capt
    Description = res_spells_charge_desc
    Flavour = res_spells_charge_flav
    TutorialTag = Research_Spells
res_spells_charge.stage_1
  Buff
    Parts = Append
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 250
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  BuffResearchUnlock
    Unlocks = Append
      Item = anim_spell_airwave
      Item = anim_spell_manashield
      Item = anim_spell_firewall
      Item = anim_spell_meteor_shower
      Item = anim_spell_pitfiend
  UiDataResearchStage
    Description = res_spells_charge_1_desc
res_spells_charge.stage_2
  Buff
    Parts = Append
      Item = ResearchStage
      Item = DynamicAttackValueBuffPart
    TargetSelector = bts_player_evilhand
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 400
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  UiDataResearchStage
    Description = res_spells_charge_2_desc
  DynamicAttackValueBuffPart
    TargetEntries = Append
      Item
        TargetTemplate = evil_hand
        Properties
          Item
            Target
              Name = airwave_area
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 2
          Item
            Target
              Name = airwave_mana_cost
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 40
          Item
            Target
              Name = manashield_health
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 200
          Item
            Target
              Name = manashield_area
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 2
          Item
            Target
              Name = manashield_mana_cost
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 100
          Item
            Target
              Name = firewall_damage
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 5
          Item
            Target
              Name = firewall_area
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 2
          Item
            Target
              Name = firewall_mana_cost
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 100
          Item
            Target
              Name = meteor_mana_cost
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 50
          Item
            Target
              Name = meteor_dot_damage
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 5
          Item
            Target
              Name = pitfiend_level
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 4
          Item
            Target
              Name = pitfiend_mana_cost
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 100
          Item
            Target
              Name = meteor_damage
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 100
          Item
            Target
              Name = meteor_area
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 2
res_spells_charge.stage_3
  Buff
    Parts = Append
      Item = ResearchStage
      Item = DynamicAttackValueBuffPart
    TargetSelector = bts_player_evilhand
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 600
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  UiDataResearchStage
    Description = res_spells_charge_3_desc
  DynamicAttackValueBuffPart
    TargetEntries = Append
      Item
        TargetTemplate = evil_hand
        Properties
          Item
            Target
              Name = airwave_stun_duration
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 2
          Item
            Target
              Name = manashield_health
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 250
          Item
            Target
              Name = manashield_area
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 2
          Item
            Target
              Name = firewall_area
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 2
          Item
            Target
              Name = meteor_area
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 2
          Item
            Target
              Name = pitfiend_level
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 5
          Item
            Target
              Name = meteor_damage
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 100
          Item
            Target
              Name = meteor_mana_cost
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 100
          Item
            Target
              Name = airwave_mana_cost
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 50
          Item
            Target
              Name = manashield_mana_cost
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 75
          Item
            Target
              Name = firewall_mana_cost
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 50
          Item
            Target
              Name = pitfiend_mana_cost
              Template = evil_hand
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 50
res_spells_simple
  Include = res_base
  Research
    Stages
      Item = res_spells_simple.stage_1
      Item = res_spells_simple.stage_2
      Item = res_spells_simple.stage_3
    AllowRandomLock = True
  UiDataResearch
    Icon = 84a9a197a9d6f2946bafdf089f899897
    Faction = Demon
    Title = ui_spells
    Description = res_spells_simple_desc
    Flavour = res_spells_simple_flav
    SortOrder = 470
    TutorialTag = Research_Spells
res_spells_simple.stage_1
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 200
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  UiDataResearchStage
    Description = res_spells_simple_1_desc
  BuffResearchUnlock
    Unlocks = Append
      Item = anim_spell_portal
      Item = anim_spell_create_resource
      Item = anim_spell_slow
      Item = anim_spell_thorns
      Item = anim_spell_batrain
res_spells_simple.stage_2
  Buff
    Parts
      Item = ResearchStage
      Item = DynamicAttackValueBuffPart
    TargetSelector = bts_player_evilhand
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 300
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  UiDataResearchStage
    Description = res_spells_simple_2_desc
  DynamicAttackValueBuffPart
    TargetEntries = Append
      Item
        TargetTemplate = evil_hand
        Properties
          Item
            Target
              Name = portal_mana_cost
              Template = evil_hand
            Operator = Percent
            Value
              ValueType = Constant
              Value = -0.2
          Item
            Target
              Name = create_resource_mana_cost
              Template = evil_hand
            Operator = Percent
            Value
              ValueType = Constant
              Value = -0.2
          Item
            Target
              Name = slow_mana_cost
              Template = evil_hand
            Operator = Percent
            Value
              ValueType = Constant
              Value = -0.2
          Item
            Target
              Name = thorns_mana_cost
              Template = evil_hand
            Operator = Percent
            Value
              ValueType = Constant
              Value = -0.2
          Item
            Target
              Name = batrain_mana_cost
              Template = evil_hand
            Operator = Percent
            Value
              ValueType = Constant
              Value = -0.2
res_spells_simple.stage_3
  Buff
    Parts
      Item = ResearchStage
      Item = DynamicAttackValueBuffPart
    TargetSelector = bts_evilhand
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 500
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  UiDataResearchStage
    Description = res_spells_simple_3_desc
  DynamicAttackValueBuffPart
    TargetEntries = Append
      Item
        TargetTemplate = evil_hand
        Properties = Append
          Item
            Target
              Name = portal_mana_cost
              Template = evil_hand
            Operator = Percent
            Value
              ValueType = Constant
              Value = -0.2
          Item
            Target
              Name = create_resource_mana_cost
              Template = evil_hand
            Operator = Percent
            Value
              ValueType = Constant
              Value = -0.2
          Item
            Target
              Name = slow_mana_cost
              Template = evil_hand
            Operator = Percent
            Value
              ValueType = Constant
              Value = -0.2
          Item
            Target
              Name = thorns_mana_cost
              Template = evil_hand
            Operator = Percent
            Value
              ValueType = Constant
              Value = -0.2
          Item
            Target
              Name = batrain_mana_cost
              Template = evil_hand
            Operator = Percent
            Value
              ValueType = Constant
              Value = -0.2
res_succubus.stage_1
  Buff
    Parts
      Item = BuffResearchUnlock
      Item = ResearchStage
    TargetSelector = bts_player_own
  BuffResearchUnlock
    Unlocks
      Item = unit_succubus
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 100
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  UiDataResearchStage
    Description = res_common_unlockcreature
res_succubus.stage_2
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_succubus
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 100
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  UiDataResearchStage
    Description = res_succubus_2_desc
  BuffProperties
    Properties = Append
      Item
        Property = Attack.RangeBonus
        Value
          ValueType = Constant
          Value = 2
res_succubus.stage_3
  Buff
    Parts
      Item = ResearchStage
      Item = DynamicAttackValueBuffPart
    TargetSelector = bts_player_succubus
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 100
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  UiDataResearchStage
    Description = res_succubus_3_desc
  DynamicAttackValueBuffPart
    TargetEntries = Append
      Item
        TargetTemplate = unit_succubus
        Properties
          Item
            Target
              Name = armor_reduction
              Template = unit_succubus
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 1
res_succubus.stage_4
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
      Item = DamageAspectBuffPart
    TargetSelector = bts_player_succubus
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 100
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  UiDataResearchStage
    Description = res_succubus_4_desc
  BuffProperties
    Properties
      Item
        Property = Attack.AttackDamageFactor
        Value
          ValueType = Constant
          Value = 0.25
  DamageAspectBuffPart
    Aspects = Append
      Item
        Aspect = aspect_fire
        AddToDefaultAttackDamage = True
        AddToSkillDamage = False
res_succubus.stage_5
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_succubus
  BuffProperties
    Properties
      Item
        Property = Attack.SkillDurationBase
        Value
          ValueType = Constant
          Value = 3
  ResearchStage
    Cost
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 200
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
      Time = 0
  UiDataResearchStage
    Description = res_succubus_5_desc
res_succubus.stage_6
  Buff
    Parts = Append
      Item = ResearchStage
      Item = DynamicAttackValueBuffPart
    TargetSelector = bts_player_succubus
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 750
          ValueFactors = Append
            Item = factor_cost_res_demon
          CurrencyManager = GoldManager
        Item
          Value = 300
          ValueFactors = Append
            Item = factor_cost_res_demon
          CurrencyManager = EvilnessManager
  UiDataResearchStage
    Description = res_succubus_6_desc
  DynamicAttackValueBuffPart
    TargetEntries = Append
      Item
        TargetTemplate = unit_succubus
        Properties
          Item
            Target
              Name = additional_charm_uses
              Template = unit_succubus
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 1
res_temple.stage_1
  Buff
    Parts
      Item = BuffResearchUnlock
      Item = ResearchStage
    TargetSelector = bts_player_own
  BuffResearchUnlock
    Unlocks
      Item = room_temple
      Item = gimmick_temple
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 200
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  UiDataResearchStage
    Description = res_common_unlockroom
res_temple.stage_2
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_temple
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 100
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  UiDataResearchStage
    Description = res_common_capacitypertile
  BuffProperties
    Properties = Append
      Item
        Property = GeneralStorageRoom.CapacityPerTile
        Value
          ValueType = Constant
          Value = 2
      Item
        Property = RoomCollection.CapacityPerTileBase
        Value
          ValueType = Constant
          Value = 2
res_temple.stage_3
  Buff
    Parts = Append
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_temple_gimmick
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 200
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  UiDataResearchStage
    Description = res_temple_3_desc
  BuffProperties
    Properties = Append
      Item
        Property = GeneralProduction.AutoProductionSpeedBonus
        Value
          ValueType = Constant
          Value = 0.25
res_temple.stage_4
  Buff
    Parts
      Item = ResearchStage
      Item = DynamicAttackValueBuffPart
    TargetSelector = bts_player_undead_no_turned
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 300
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  UiDataResearchStage
    Description = res_temple_4_desc
  DynamicAttackValueBuffPart
    TargetEntries = Append
      Item
        TargetTemplate = unit_monster_undead_base
        Properties
          Item
            Target
              Name = summon_max_count
              Template = unit_monster_undead_base
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 1
res_temple.stage_5
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_temple
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 200
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  BuffProperties
    Properties
      Item
        Property = Room.EfficiencyBonus
        Value
          ValueType = Constant
          Value = 0.5
  UiDataResearchStage
    Description = res_common_efficiency
res_temple.stage_6
  Buff
    Parts
      Item = ResearchStage
      Item = DynamicAttackValueBuffPart
    TargetSelector = bts_player_undead_no_turned
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 500
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  UiDataResearchStage
    Description = res_temple_5_desc
  DynamicAttackValueBuffPart
    TargetEntries = Append
      Item
        TargetTemplate = unit_monster_undead_base
        Properties = Append
          Item
            Target
              Name = summon_max_count
              Template = unit_monster_undead_base
            Value
              ValueType = Constant
              Value = 1
res_throneroom.stage_1
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_hearth
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
        Item
          Value = 50
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  UiDataResearchStage
    Description = res_throneroom_1_desc
  BuffProperties
    Properties
      Item
        Property = Combat.MaxHealthBonusFactor
        Value
          ValueType = Constant
          Value = 0.5
      Item
        Property = Combat.RegenerationOutsideCombatBonusFactor
        Value
          ValueType = Constant
          Value = 1
res_throneroom.stage_2
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
        Item
          Value = 50
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  UiDataResearchStage
    Description = res_throneroom_2_desc
  BuffResearchUnlock
    Unlocks = Append
      Item = anim_default_attack_ranged_area_heart
res_throneroom.stage_3
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
        Item
          Value = 100
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  UiDataResearchStage
    Description = res_throneroom_3_desc
  BuffResearchUnlock
    Unlocks = Append
      Item = room_throneroom.buff_armor
res_throneroom.stage_4
  Buff
    Parts = Append
      Item = ResearchStage
      Item = BuffActivateAura
    TargetSelector = bts_player_throneroom
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 750
          ValueFactors = Append
            Item = factor_cost_res_dungeon
          CurrencyManager = GoldManager
        Item
          Value = 100
          ValueFactors = Append
            Item = factor_cost_res_dungeon
          CurrencyManager = EvilnessManager
  UiDataResearchStage
    Description = res_throneroom_4_desc
  BuffActivateAura
    AurasToActivate = Append
      Item
        Name = aura_armor
        Template = room_throneroom
res_throneroom.stage_5
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 750
          ValueFactors = Append
            Item = factor_cost_res_dungeon
          CurrencyManager = GoldManager
        Item
          Value = 150
          ValueFactors = Append
            Item = factor_cost_res_dungeon
          CurrencyManager = EvilnessManager
  Buff
    Parts = Append
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_hearth
  UiDataResearchStage
    Description = res_throneroom_5_desc
  BuffProperties
    Properties = Append
      Item
        Property = Combat.MaxHealthBonusFactor
        Value
          ValueType = Constant
          Value = 0.5
      Item
        Property = Combat.RegenerationRate
        Value
          ValueType = Constant
          Value = 10
res_throneroom.stage_6
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 750
          ValueFactors = Append
            Item = factor_cost_res_dungeon
          CurrencyManager = GoldManager
        Item
          Value = 150
          ValueFactors = Append
            Item = factor_cost_res_dungeon
          CurrencyManager = EvilnessManager
  Buff
    Parts = Append
      Item = ResearchStage
      Item = BuffReflectDamage
    TargetSelector = bts_player_hearth
  UiDataResearchStage
    Description = res_throneroom_6_desc
  BuffReflectDamage
    Formula = 10 * damage * strength / 100
res_torturechamber.stage_1
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 200
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  BuffResearchUnlock
    Unlocks
      Item = room_torturechamber
      Item = gimmick_torturechamber
  UiDataResearchStage
    Description = res_common_unlockroom
res_torturechamber.stage_2
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_torturechamber_gimmick
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 100
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  UiDataResearchStage
    Description = res_torturechamber_2_desc
  BuffProperties
    Properties
      Item
        Property = GeneralProduction.ProductionSpeedBonusFactor
        Value
          ValueType = Constant
          Value = -0.5
res_torturechamber.stage_3
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_torturechamber
  BuffProperties
    Properties
      Item
        Property = Room.EfficiencyBonus
        Value
          ValueType = Constant
          Value = 0.5
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 100
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  UiDataResearchStage
    Description = res_common_efficiency
res_totem.stage_1
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1250
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 300
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  BuffResearchUnlock
    Unlocks
      Item = room_totem
      Item = gimmick_totem
  UiDataResearchStage
    Description = res_common_unlockroom
res_totem.stage_2
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_totem_gimmick
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1200
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 200
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  UiDataResearchStage
    Description = res_totem_2_desc
  BuffProperties
    Properties
      Item
        Property = GeneralProduction.ProductionDurationFactor
        Value
          ValueType = Constant
          Value = -0.5
res_totem.stage_3
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_totem_gimmick
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1250
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_horde
        Item
          Value = 200
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_horde
  UiDataResearchStage
    Description = res_totem_3_desc
  BuffProperties
    Properties
      Item
        Property = CorpseReviveModule.RevivePercentBonus
        Value
          ValueType = Constant
          Value = 90
res_trap_ground
  Include = res_base
  Research
    Stages = Append
      Item = res_trap_ground.stage_1
      Item = res_trap_ground.stage_2
      Item = res_trap_ground.stage_3
    AllowRandomLock = True
  UiDataResearch
    Faction = Dungeon
    SortOrder = 90
    Icon = 0448298febd5b58459214e26c2c96af1
    Title = res_trap_ground_capt
    Description = res_traps_desc
    Flavour = res_traps_flav
    TutorialTag = Research_TrapsImproved
res_trap_ground.stage_1
  Buff
    Parts = Append
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  UiDataResearchStage
    Description = res_trap_ground_X_desc
  BuffResearchUnlock
    Unlocks = Append
      Item = trap_ground_spike_small
      Item = trap_ground_spike_medium
      Item = trap_ground_slime_small
      Item = trap_ground_slime_medium
res_trap_ground.stage_2
  Buff
    Parts = Append
      Item = ResearchStage
      Item = BuffReduceHeroTrapResistance
      Item = BuffResearchUnlock
      Item = DynamicAttackValueBuffPart
    TargetSelector = bts_player_trap_ground_slime
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
        Item
          Value = 200
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
      Time = 200
  UiDataResearchStage
    Description = res_trap_ground_X_desc
  BuffReduceHeroTrapResistance
    ReductionValue = 25
    Aspect = aspect_trap_ground
  BuffResearchUnlock
    Unlocks = Append
      Item = skill_trap_spike_damage_fire
      Item = skill_trap_spike_damage_fire.buff
  DynamicAttackValueBuffPart
    TargetEntries = Append
      Item
        TargetTemplate = trap_ground_slime_medium
        Properties
          Item
            Target
              Name = slow_duration
              Template = trap_ground_slime_medium
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 5
res_trap_ground.stage_3
  Buff
    Parts = Append
      Item = ResearchStage
      Item = DynamicAttackValueBuffPart
      Item = BuffProperties
      Item = BuffReduceHeroTrapResistance
      Item = BuffResearchUnlock
      Item = BuffPartLockSkillBuff
    TargetSelector = bts_player_trap_ground_spike_skill
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 2000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
        Item
          Value = 400
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
      Time = 300
  UiDataResearchStage
    Description = res_trap_ground_X_desc
  DynamicAttackValueBuffPart
    TargetEntries = Append
      Item
        TargetTemplate = trap_ground_slime_medium
        Properties = Append
          Item
            Target
              Name = slow_duration
              Template = trap_ground_slime_medium
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 5
  BuffProperties
    Properties = Append
      Item
        Property = Attack.SkillDurationBase
        Value
          ValueType = Constant
          Value = 20
      Item
        Property = Attack.SkillStrengthBase
        Value
          ValueType = Constant
          Value = -0.25
  BuffReduceHeroTrapResistance
    Aspect = aspect_trap_ground
    ReductionValue = 50
  BuffResearchUnlock
    Unlocks = Append
      Item = skill_trap_spike_damage_cold
      Item = skill_trap_spike_damage_cold.buff
  BuffPartLockSkillBuff
res_trap_simple
  Include = res_base
  Research
    Stages
      Item = res_trap_simple.stage_1
      Item = res_trap_simple.stage_2
      Item = res_trap_simple.stage_3
    AllowRandomLock = True
  UiDataResearch
    Faction = Dungeon
    Title = res_trap_simple_capt
    Description = res_traps_desc
    Flavour = res_traps_flav
    SortOrder = 100
    Icon = db24d4478637a9f4fa02a7aff51db214
    TutorialTag = Research_TrapsImproved
res_trap_simple.stage_1
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  UiDataResearchStage
    Description = res_trap_simple_X_desc
  BuffResearchUnlock
    Unlocks = Append
      Item = trap_simple_thresher
      Item = trap_simple_pusher
      Item = trap_simple_saw
res_trap_simple.stage_2
  Buff
    Parts = Append
      Item = ResearchStage
      Item = DynamicAttackValueBuffPart
      Item = BuffProperties
      Item = BuffReduceHeroTrapResistance
    TargetSelector = bts_player_trap_simple
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
        Item
          Value = 200
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
      Time = 200
  UiDataResearchStage
    Description = res_trap_simple_X_desc
  DynamicAttackValueBuffPart
    TargetEntries = Append
      Item
        TargetTemplate = trap_simple_pusher
        Properties
          Item
            Target
              Name = knockback
              Template = trap_simple_pusher
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 3
          Item
            Target
              Name = knockdown
              Template = trap_simple_pusher
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 2
          Item
            Target
              Name = cooldown
              Template = trap_simple_pusher
            Operator = Absolute
            Value
              ValueType = Constant
              Value = -10
      Item
        TargetTemplate = trap_simple_saw
        Properties
          Item
            Target
              Name = damage
              Template = trap_simple_saw
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 20
          Item
            Target
              Name = cooldown
              Template = trap_simple_saw
            Operator = Absolute
            Value
              ValueType = Constant
              Value = -10
      Item
        TargetTemplate = trap_simple_thresher
        Properties
          Item
            Target
              Name = damage
              Template = trap_simple_thresher
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 10
          Item
            Target
              Name = cooldown
              Template = trap_simple_thresher
            Operator = Absolute
            Value
              ValueType = Constant
              Value = -15
  BuffProperties
    Properties = Append
      Item
        Property = Ammunition.AdditionalMaxAmmoFactor
        Value
          ValueType = Constant
          Value = 1
  BuffReduceHeroTrapResistance
    Aspect = aspect_trap_simple
    ReductionValue = 25
res_trap_simple.stage_3
  Buff
    Parts = Append
      Item = ResearchStage
      Item = DynamicAttackValueBuffPart
      Item = BuffProperties
      Item = BuffReduceHeroTrapResistance
    TargetSelector = bts_player_trap_simple
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 2500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
        Item
          Value = 400
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
      Time = 300
  UiDataResearchStage
    Description = res_trap_simple_X_desc
  DynamicAttackValueBuffPart
    TargetEntries = Append
      Item
        TargetTemplate = trap_simple_pusher
        Properties = Append
          Item
            Target
              Name = knockdown
              Template = trap_simple_pusher
            Value
              ValueType = Constant
              Value = 3
          Item
            Target
              Name = cooldown
              Template = trap_simple_pusher
            Value
              ValueType = Constant
              Value = -15
      Item
        TargetTemplate = trap_simple_saw
        Properties = Append
          Item
            Target
              Name = damage
              Template = trap_simple_saw
            Value
              ValueType = Constant
              Value = 30
      Item
        TargetTemplate = trap_simple_thresher
        Properties
          Item
            Target
              Name = damage
              Template = trap_simple_thresher
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 10
          Item
            Target
              Name = cooldown
              Template = trap_simple_thresher
            Operator = Absolute
            Value
              ValueType = Constant
              Value = -10
  BuffProperties
    Properties = Append
      Item
        Property = Ammunition.AdditionalMaxAmmoFactor
        Value
          ValueType = Constant
          Value = 99999
  BuffReduceHeroTrapResistance
    ReductionValue = 50
    Aspect = aspect_trap_simple
res_trap_trigger
  Include = res_base
  Research
    Stages = Append
      Item = res_trap_trigger.stage_1
      Item = res_trap_trigger.stage_2
      Item = res_trap_trigger.stage_3
    AllowRandomLock = True
  UiDataResearch
    Faction = Dungeon
    SortOrder = 110
    Icon = 40a26afb7852749489f01c3b58f3b378
    Title = res_traps_trigger_capt
    Description = res_traps_desc
    Flavour = res_traps_flav
    TutorialTag = Research_Traps
res_trap_trigger.stage_1
  Buff
    Parts = Append
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1250
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
      Time = 300
  UiDataResearchStage
    Description = res_trap_trigger_X_desc
  BuffResearchUnlock
    Unlocks = Append
      Item = trap_trigger_beer
      Item = trap_trigger_slimeball
      Item = trap_trigger_hamster
      Item = trap_trigger_guru
      Item = trap_trigger_lootbox
res_trap_trigger.stage_2
  Buff
    Parts = Append
      Item = ResearchStage
      Item = DynamicAttackValueBuffPart
      Item = BuffReduceHeroTrapResistance
    TargetSelector = bts_player_trigger_trap
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
        Item
          Value = 200
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
      Time = 500
  UiDataResearchStage
    Description = res_trap_trigger_X_desc
  DynamicAttackValueBuffPart
    TargetEntries = Append
      Item
        TargetTemplate = trap_trigger_beer
        Properties
          Item
            Target
              Name = dot_duration
              Template = trap_trigger_beer
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 5
          Item
            Target
              Name = dot_damage
              Template = trap_trigger_beer
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 5
      Item
        TargetTemplate = trap_trigger_slimeball.ball
        Properties
          Item
            Target
              Name = damage
              Template = trap_trigger_slimeball.ball
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 20
      Item
        TargetTemplate = trap_trigger_hamster.wheel
        Properties
          Item
            Target
              Name = damage
              Template = trap_trigger_hamster.wheel
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 150
      Item
        TargetTemplate = trap_trigger_guru
        Properties
          Item
            Target
              Name = fire_resistance_down
              Template = trap_trigger_guru
            Operator = Absolute
            Value
              ValueType = Constant
              Value = -50
          Item
            Target
              Name = duration
              Template = trap_trigger_guru
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 60
          Item
            Target
              Name = sticky_multiplier
              Template = trap_trigger_guru
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 0.5
          Item
            Target
              Name = damage
              Template = trap_trigger_guru
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 25
      Item
        TargetTemplate = trap_trigger_lootbox
        Properties
          Item
            Target
              Name = damage
              Template = trap_trigger_lootbox
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 200
          Item
            Target
              Name = area
              Template = trap_trigger_lootbox
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 2
      Item
        TargetTemplate = trap_trigger_slimeball
        Properties
          Item
            Target
              Name = damage
              Template = trap_trigger_slimeball
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 20
  BuffReduceHeroTrapResistance
    ReductionValue = 25
    Aspect = aspect_trap_trigger
res_trap_trigger.stage_3
  Buff
    Parts = Append
      Item = ResearchStage
      Item = DynamicAttackValueBuffPart
      Item = BuffReduceHeroTrapResistance
    TargetSelector = bts_player_trigger_trap
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 2500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
        Item
          Value = 400
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
      Time = 500
  UiDataResearchStage
    Description = res_trap_trigger_X_desc
  DynamicAttackValueBuffPart
    TargetEntries = Append
      Item
        TargetTemplate = trap_trigger_beer
        Properties
          Item
            Target
              Name = dot_damage
              Template = trap_trigger_beer
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 5
          Item
            Target
              Name = area
              Template = trap_trigger_beer
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 2
      Item
        TargetTemplate = trap_trigger_slimeball.ball
        Properties = Append
          Item
            Target
              Name = damage
              Template = trap_trigger_slimeball.ball
            Value
              ValueType = Constant
              Value = 60
      Item
        TargetTemplate = trap_trigger_guru
        Properties = Append
          Item
            Target
              Name = fire_resistance_down
              Template = trap_trigger_guru
            Value
              ValueType = Constant
              Value = -50
          Item
            Target
              Name = duration
              Template = trap_trigger_guru
            Value
              ValueType = Constant
              Value = 60
          Item
            Target
              Name = sticky_multiplier
              Template = trap_trigger_guru
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 0.5
          Item
            Target
              Name = damage
              Template = trap_trigger_guru
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 50
      Item
        TargetTemplate = trap_trigger_hamster.wheel
        Properties = Append
          Item
            Target
              Name = damage
              Template = trap_trigger_hamster.wheel
            Value
              ValueType = Constant
              Value = 300
      Item
        TargetTemplate = trap_trigger_lootbox
        Properties = Append
          Item
            Target
              Name = damage
              Template = trap_trigger_lootbox
            Value
              ValueType = Constant
              Value = 300
          Item
            Target
              Name = area
              Template = trap_trigger_lootbox
            Operator = Absolute
            Value
              ValueType = Constant
              Value = 2
  BuffReduceHeroTrapResistance
    ReductionValue = 50
    Aspect = aspect_trap_trigger
res_treasury.stage_1
  Buff
    Parts
      Item = BuffResearchUnlock
      Item = ResearchStage
    TargetSelector = bts_player_own
  BuffResearchUnlock
    Unlocks
      Item = room_treasury
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  UiDataResearchStage
    Description = res_common_unlockroom
res_treasury.stage_2
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_treasury
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
        Item
          Value = 50
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  BuffProperties
    Properties
      Item
        Property = RoomCollection.CapacityPerTileBase
        Value
          ValueType = Constant
          Value = 50
  UiDataResearchStage
    Description = res_common_capacitypertile
res_treasury.stage_3
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_treasury
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
        Item
          Value = 150
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  BuffProperties
    Properties = Append
      Item
        Property = Room.EfficiencyBonus
        Value
          ValueType = Constant
          Value = 0.5
  UiDataResearchStage
    Description = res_common_efficiency
res_treasury.stage_4
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_treasury
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
        Item
          Value = 100
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  BuffProperties
    Properties = Append
      Item
        Property = RoomCollection.CapacityPerTileBase
        Value
          ValueType = Constant
          Value = 100
  UiDataResearchStage
    Description = res_common_capacitypertile
res_treasury.stage_5
  Buff
    Parts = Append
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_treasury
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
        Item
          Value = 200
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  BuffProperties
    Properties = Append
      Item
        Property = Room.EfficiencyBonus
        Value
          ValueType = Constant
          Value = 0.5
  UiDataResearchStage
    Description = res_common_efficiency
res_undead.stage_1
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
      Item = BuffProperties
      Item = BuffChangeUnitDamageResearchBuffStrength
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  BuffResearchUnlock
    Unlocks
      Item = res_graveyard
      Item = res_banshee
      Item = res_graveyard.stage_1
      Item = res_banshee.stage_1
  UiDataResearchStage
    Description = res_undead_X_desc
  BuffProperties
    Properties = Append
      Item
        Property = ImpersonateManager.FocusPointsMax
        Value
          ValueType = Constant
          Value = 5
  BuffChangeUnitDamageResearchBuffStrength
    StrengthChange = 0.01
res_undead.stage_10
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
      Item = BuffChangeUnitDamageResearchBuffStrength
    TargetSelector = bts_player_undead
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 2500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 500
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  BuffProperties
    Properties
      Item
        Property = ImpersonateManager.FocusPointsMax
        Value
          ValueType = Constant
          Value = 5
      Item
        Property = LevelUp.MaxLevel
        Value
          ValueType = Constant
          Value = 1
  UiDataResearchStage
    Description = res_undead_X_desc
  BuffChangeUnitDamageResearchBuffStrength
    StrengthChange = 0.01
res_undead.stage_2
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
      Item = BuffProperties
      Item = BuffChangeUnitDamageResearchBuffStrength
    TargetSelector = bts_player_undead
  ResearchStage
    Cost
      CostEntries
        Item
          Value = 1250
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 100
          ValueFactors
          CurrencyManager = EvilnessManager
  BuffResearchUnlock
    Unlocks
      Item = res_temple
      Item = res_temple.stage_1
      Item = res_skeletonlord
      Item = res_skeletonlord.stage_1
      Item = res_graveyard.stage_2
      Item = res_banshee.stage_2
  BuffProperties
    Properties
      Item
        Property = ImpersonateManager.FocusPointsMax
        Value
          ValueType = Constant
          Value = 5
      Item
        Property = LevelUp.MaxLevel
        Value
          ValueType = Constant
          Value = 1
  UiDataResearchStage
    Description = res_undead_X_desc
  BuffChangeUnitDamageResearchBuffStrength
    StrengthChange = 0.01
res_undead.stage_3
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
      Item = BuffResearchUnlock
      Item = BuffChangeUnitDamageResearchBuffStrength
    TargetSelector = bts_player_undead
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 200
          ValueFactors
          CurrencyManager = EvilnessManager
  BuffProperties
    Properties
      Item
        Property = ImpersonateManager.FocusPointsMax
        Value
          ValueType = Constant
          Value = 5
      Item
        Property = LevelUp.MaxLevel
        Value
          ValueType = Constant
          Value = 1
  BuffResearchUnlock
    Unlocks
      Item = res_temple.stage_2
      Item = res_graveyard.stage_3
      Item = res_skeletonlord.stage_2
      Item = res_prison
      Item = res_prison.stage_1
      Item = res_vampire
      Item = res_vampire.stage_1
  UiDataResearchStage
    Description = res_undead_X_desc
    AddNeedImage = 662e2054022770c4fa521979f9609e01
  BuffChangeUnitDamageResearchBuffStrength
    StrengthChange = 0.01
res_undead.stage_4
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
      Item = BuffResearchUnlock
      Item = BuffChangeUnitDamageResearchBuffStrength
    TargetSelector = bts_player_undead
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 250
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  BuffProperties
    Properties
      Item
        Property = ImpersonateManager.FocusPointsMax
        Value
          ValueType = Constant
          Value = 5
      Item
        Property = LevelUp.MaxLevel
        Value
          ValueType = Constant
          Value = 1
  UiDataResearchStage
    Description = res_undead_X_desc
  BuffResearchUnlock
    Unlocks = Append
      Item = res_temple.stage_3
      Item = res_banshee.stage_3
      Item = res_graveyard.stage_4
      Item = res_skeletonlord.stage_3
      Item = res_necrodancicon
      Item = res_necrodancicon.stage_1
      Item = res_necromancer
      Item = res_necromancer.stage_1
  BuffChangeUnitDamageResearchBuffStrength
    StrengthChange = 0.01
res_undead.stage_5
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
      Item = BuffProperties
      Item = BuffChangeUnitDamageResearchBuffStrength
    TargetSelector = bts_player_undead
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 300
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  BuffResearchUnlock
    Unlocks
      Item = res_graveyard.stage_5
      Item = res_banshee.stage_4
      Item = res_temple.stage_4
      Item = res_vampire.stage_2
      Item = res_skeletonlord.stage_4
      Item = res_prison.stage_2
      Item = res_crypt
      Item = res_crypt.stage_1
  BuffProperties
    Properties
      Item
        Property = ImpersonateManager.FocusPointsMax
        Value
          ValueType = Constant
          Value = 5
      Item
        Property = LevelUp.MaxLevel
        Value
          ValueType = Constant
          Value = 1
  UiDataResearchStage
    Description = res_undead_X_desc
    AddNeedImage = 1e371b6d60d9a5c4c8ad4abae0a0d28f
  BuffChangeUnitDamageResearchBuffStrength
    StrengthChange = 0.01
res_undead.stage_6
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
      Item = BuffResearchUnlock
      Item = BuffChangeUnitDamageResearchBuffStrength
    TargetSelector = bts_player_undead
  BuffProperties
    Properties
      Item
        Property = ImpersonateManager.FocusPointsMax
        Value
          ValueType = Constant
          Value = 5
      Item
        Property = LevelUp.MaxLevel
        Value
          ValueType = Constant
          Value = 1
  BuffResearchUnlock
    Unlocks
      Item = res_temple.stage_5
      Item = res_necromancer.stage_2
      Item = res_prison.stage_3
      Item = res_necrodancicon.stage_2
      Item = res_banshee.stage_5
      Item = res_vampire.stage_3
      Item = res_necrodancicon.stage_3
      Item = res_crypt.stage_2
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 350
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  UiDataResearchStage
    Description = res_undead_X_desc
  BuffChangeUnitDamageResearchBuffStrength
    StrengthChange = 0.01
res_undead.stage_7
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
      Item = BuffResearchUnlock
      Item = BuffChangeUnitDamageResearchBuffStrength
    TargetSelector = bts_player_undead
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 2000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 400
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  BuffProperties
    Properties
      Item
        Property = ImpersonateManager.FocusPointsMax
        Value
          ValueType = Constant
          Value = 5
      Item
        Property = LevelUp.MaxLevel
        Value
          ValueType = Constant
          Value = 1
  BuffResearchUnlock
    Unlocks
      Item = res_prison.stage_4
      Item = res_skeletonlord.stage_5
      Item = res_necrodancicon.stage_4
      Item = res_vampire.stage_4
      Item = res_crypt.stage_3
      Item = res_necromancer.stage_3
  UiDataResearchStage
    Description = res_undead_X_desc
  BuffChangeUnitDamageResearchBuffStrength
    StrengthChange = 0.01
res_undead.stage_8
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
      Item = BuffProperties
      Item = BuffChangeUnitDamageResearchBuffStrength
    TargetSelector = bts_player_undead
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 2000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 400
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  BuffResearchUnlock
    Unlocks
      Item = res_temple.stage_6
      Item = res_vampire.stage_5
      Item = res_necromancer.stage_4
      Item = res_crypt.stage_4
  BuffProperties
    Properties
      Item
        Property = ImpersonateManager.FocusPointsMax
        Value
          ValueType = Constant
          Value = 5
      Item
        Property = LevelUp.MaxLevel
        Value
          ValueType = Constant
          Value = 1
  UiDataResearchStage
    Description = res_undead_X_desc
  BuffChangeUnitDamageResearchBuffStrength
    StrengthChange = 0.01
res_undead.stage_9
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
      Item = BuffResearchUnlock
      Item = BuffChangeUnitDamageResearchBuffStrength
    TargetSelector = bts_player_undead
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 2500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_undead
        Item
          Value = 500
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_undead
  BuffProperties
    Properties
      Item
        Property = ImpersonateManager.FocusPointsMax
        Value
          ValueType = Constant
          Value = 5
      Item
        Property = LevelUp.MaxLevel
        Value
          ValueType = Constant
          Value = 1
  BuffResearchUnlock
    Unlocks
      Item = res_crypt.stage_5
      Item = res_necromancer.stage_5
  UiDataResearchStage
    Description = res_undead_X_desc
  BuffChangeUnitDamageResearchBuffStrength
    StrengthChange = 0.01
res_vampire
  Include = res_base
  Research
    Stages
      Item = res_vampire.stage_1
      Item = res_vampire.stage_2
      Item = res_vampire.stage_3
      Item = res_vampire.stage_4
      Item = res_vampire.stage_5
    AllowRandomLock = True
  UiDataResearch
    Icon = c142eb8176bc5c147bcf4e9dc1e1d824
    Faction = Undead
    SortOrder = 650
    Title = unit_vampirequeen_capt
    Description = unit_vampirequeen_desc
    Flavour = unit_vampirequeen_flav
    TutorialTag = Research_VampireQueen
res_vampire.stage_1
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 50
      CostEntries
        Item
          Value = 1500
          CurrencyManager = GoldManager
          ValueFactors
            Item = factor_cost_res_undead
        Item
          Value = 450
          CurrencyManager = EvilnessManager
          ValueFactors
            Item = factor_cost_res_undead
  BuffResearchUnlock
    Unlocks
      Item = unit_vampire_queen
  UiDataResearchStage
    Description = res_common_unlockcreature
res_vampire.stage_2
  Buff
    Parts = Append
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_vampire
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors
            Item = factor_cost_res_undead
        Item
          Value = 150
          CurrencyManager = EvilnessManager
          ValueFactors
            Item = factor_cost_res_undead
  UiDataResearchStage
    Description = res_vampire_2_desc
  BuffProperties
    Properties = Append
      Item
        Property = Attack.SkillStrengthBase
        Value
          ValueType = Constant
          Value = 25
res_vampire.stage_3
  Buff
    Parts = Append
      Item = ResearchStage
      Item = DamageAspectBuffPart
    TargetSelector = bts_player_vampire
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors
            Item = factor_cost_res_undead
        Item
          Value = 100
          CurrencyManager = EvilnessManager
          ValueFactors
            Item = factor_cost_res_undead
  UiDataResearchStage
    Description = res_vampire_3_desc
  DamageAspectBuffPart
    Aspects = Append
      Item
        Aspect = aspect_ice
        AddToDefaultAttackDamage = True
        AddToSkillDamage = False
res_vampire.stage_4
  Buff
    Parts = Append
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_vampire_minion
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors
            Item = factor_cost_res_undead
        Item
          Value = 100
          CurrencyManager = EvilnessManager
          ValueFactors
            Item = factor_cost_res_undead
  UiDataResearchStage
    Description = res_vampire_4_desc
  BuffProperties
    Properties = Append
      Item
        Property = Attack.SkillStrengthBase
        Value
          ValueType = Constant
          Value = 40
res_vampire.stage_5
  Buff
    Parts = Append
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_vampire
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors
            Item = factor_cost_res_undead
        Item
          Value = 300
          CurrencyManager = EvilnessManager
          ValueFactors
            Item = factor_cost_res_undead
  UiDataResearchStage
    Description = res_vampire_5_desc
  BuffProperties
    Properties = Append
      Item
        Property = Attack.IgnoreArmorFactor
        Value
          ValueType = Constant
          Value = 1
res_vortex.stage_1
  Buff
    Parts
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  BuffResearchUnlock
    Unlocks
      Item = room_vortex
  UiDataResearchStage
    Description = res_common_unlockroom
res_vortex.stage_2
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_gimmick_vortex
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 100
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  BuffProperties
    Properties
      Item
        Property = GeneralProduction.ProductionSpeedBonusFactor
        Value
          ValueType = Constant
          Value = 0.5
  UiDataResearchStage
    Description = res_vortex_2_desc
res_vortex.stage_3
  Buff
    Parts = Append
      Item = ResearchStage
      Item = BuffInternalStorageCapacity
    TargetSelector = bts_player_gimmick_vortex
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 100
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  UiDataResearchStage
    Description = res_vortex_3_desc
  BuffInternalStorageCapacity
    Targets = Append
      Item
        StorageEntry
          Name = revive_resource
          Template = gimmick_vortex
        BuffFactor
          ValueType = Constant
          Value = -0.5
        Target = Final
      Item
        StorageEntry
          Name = revive_alternative_resource
          Template = gimmick_vortex
        BuffFactor
          ValueType = Constant
          Value = -0.5
        Target = Final
res_vortex.stage_4
  Buff
    Parts = Append
      Item = ResearchStage
      Item = ModifyStaticFactor
    TargetSelector = bts_player_own
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 200
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  UiDataResearchStage
    Description = res_vortex_4_desc
  ModifyStaticFactor
    Factor = factor_initial_level_bonus_demons
    Value
      ValueType = Constant
      Value = 1
res_vortex.stage_5
  Buff
    Parts = Append
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_demon
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 300
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  BuffProperties
    Properties = Append
      Item
        Property = Combat.RegenerationRateOutsideCombatDelayFactor
        Value
          ValueType = Constant
          Value = -0.5
  UiDataResearchStage
    Description = res_vortex_5_desc
res_vortex.stage_6
  Buff
    Parts = Append
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_demon
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_demon
        Item
          Value = 500
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_demon
  BuffProperties
    Properties = Append
      Item
        Property = Attack.AttackDamageFactor
        Value
          ValueType = Constant
          Value = 0.25
  UiDataResearchStage
    Description = res_vortex_6_desc
res_workshop
  Include = res_base
  Research
    Stages
      Item = res_workshop.stage_1
      Item = res_workshop.stage_2
      Item = res_workshop.stage_3
      Item = res_workshop.stage_4
      Item = res_workshop.stage_5
      Item = res_workshop.stage_6
  UiDataResearch
    Icon = 3eaef7a9d5899cd4491341bc5bb965bd
    Faction = Dungeon
    Title = room_workshop_capt
    Description = room_workshop_desc
    Flavour = room_workshop_flav
    SortOrder = 70
    TutorialTag = Research_Workshop
res_workshop.stage_1
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 500
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  Buff
    Parts
      Item = BuffResearchUnlock
      Item = ResearchStage
    TargetSelector = bts_player_own
  BuffResearchUnlock
    Unlocks
      Item = room_workshop
      Item = gimmick_workshop
  UiDataResearchStage
    Description = res_common_unlockroom
res_workshop.stage_2
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 750
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
        Item
          Value = 50
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  Buff
    Parts
      Item = BuffProperties
      Item = ResearchStage
    TargetSelector = bts_player_workshop
  BuffProperties
    Properties
      Item
        Property = GeneralStorageRoom.CapacityPerTile
        Value
          ValueType = Constant
          Value = 1
      Item
        Property = RoomCollection.CapacityPerTileBase
        Value
          ValueType = Constant
          Value = 1
  UiDataResearchStage
    Description = res_common_capacitypertile
res_workshop.stage_3
  ResearchStage
    Cost
      CostEntries = Append
        Item
          Value = 1000
          ValueFactors = Append
            Item = factor_cost_res_dungeon
          CurrencyManager = GoldManager
        Item
          Value = 200
          ValueFactors = Append
            Item = factor_cost_res_dungeon
          CurrencyManager = EvilnessManager
  Buff
    Parts = Append
      Item = ResearchStage
      Item = BuffResearchUnlock
    TargetSelector = bts_player_own
  UiDataResearchStage
    Description = res_workshop_4_desc
  BuffResearchUnlock
    Unlocks = Append
      Item = gimmick_workshop_battery
res_workshop.stage_4
  Buff
    Parts
      Item = ResearchStage
      Item = BuffProperties
    TargetSelector = bts_player_workshop
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
        Item
          Value = 150
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  UiDataResearchStage
    Description = res_common_efficiency
  BuffProperties
    Properties = Append
      Item
        Property = Room.EfficiencyBonus
        Value
          ValueType = Constant
          Value = 0.5
res_workshop.stage_5
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
        Item
          Value = 100
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  Buff
    Parts
      Item = BuffProperties
      Item = ResearchStage
    TargetSelector = bts_player_workshop
  BuffProperties
    Properties
      Item
        Property = GeneralStorageRoom.CapacityPerTile
        Value
          ValueType = Constant
          Value = 3
      Item
        Property = RoomCollection.CapacityPerTileBase
        Value
          ValueType = Constant
          Value = 3
  UiDataResearchStage
    Description = res_common_capacitypertile
res_workshop.stage_6
  ResearchStage
    Cost
      Time = 0
      CostEntries
        Item
          Value = 1000
          CurrencyManager = GoldManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
        Item
          Value = 200
          CurrencyManager = EvilnessManager
          ValueFactors = Append
            Item = factor_cost_res_dungeon
  Buff
    Parts
      Item = BuffProperties
      Item = ResearchStage
    TargetSelector = bts_player_workshop
  BuffProperties
    Properties
      Item
        Property = Room.EfficiencyBonus
        Value
          ValueType = Constant
          Value = 0.5
  UiDataResearchStage
    Description = res_common_efficiency
res_arcanium
  Include = res_base
  Research
    Stages
      Item = res_arcanium.stage_1
      Item = res_arcanium.stage_2
      Item = res_arcanium.stage_3
      Item = res_arcanium.stage_4
  UiDataResearch
    Icon = 208696f02321e5d43bcbc1bb78202fe9
    Faction = Demon
    Title = room_arcanium_capt
    Description = room_arcanium_desc
    Flavour = room_arcanium_flav
    SortOrder = 460
    TutorialTag = Research_Arcanium
res_powerchamber
  Include = res_base
  Research
    Stages
      Item = res_powerchamber.stage_1
      Item = res_powerchamber.stage_2
      Item = res_powerchamber.stage_3
    AllowRandomLock = True
  UiDataResearch
    Icon = 9aeaf3fab3e3b5f41a2f8dd17fd1217d
    Faction = Demon
    Title = room_powerchamber_capt
    Description = room_powerchamber_desc
    Flavour = room_powerchamber_flav
    SortOrder = 510
    TutorialTag = Research_Powerchamber
res_demons
  Include = res_base
  Research
    Stages
      Item = res_demons.stage_1
      Item = res_demons.stage_2
      Item = res_demons.stage_3
      Item = res_demons.stage_4
      Item = res_demons.stage_5
      Item = res_demons.stage_6
      Item = res_demons.stage_7
      Item = res_demons.stage_8
      Item = res_demons.stage_9
      Item = res_demons.stage_10
  UiDataResearch
    IsBaseResearch = True
    Faction = Demon
    Title = res_demon_capt
    Icon = ef553b17b94bb59469746b5e1880d90b
    Description = res_demon_desc
    Flavour = res_demon_flav
    TutorialTag = Research_Demons
res_gazer
  Include = res_base
  Research
    Stages
      Item = res_gazer.stage_1
      Item = res_gazer.stage_2
      Item = res_gazer.stage_3
      Item = res_gazer.stage_4
    AllowRandomLock = True
  UiDataResearch
    Icon = fadf0299a5628354f9a1490366487aed
    Faction = Demon
    Title = unit_gazer_capt
    Description = unit_gazer_desc
    Flavour = unit_gazer_flav
    SortOrder = 440
    TutorialTag = Research_Gazer
res_imp
  Include = res_base
  Research
    Stages
      Item = res_imp.stage_1
      Item = res_imp.stage_2
      Item = res_imp.stage_3
      Item = res_imp.stage_4
    AllowRandomLock = True
  UiDataResearch
    Icon = 85213378c707f2445b778374910936e1
    Faction = Demon
    Title = unit_imp_capt
    Description = unit_imp_desc
    Flavour = unit_imp_flav
    SortOrder = 420
    TutorialTag = Research_Imp
res_infernal
  Include = res_base
  Research
    Stages
      Item = res_infernal.stage_1
      Item = res_infernal.stage_2
      Item = res_infernal.stage_3
    AllowRandomLock = True
  UiDataResearch
    Icon = e45ea68220dc95444b362b8ee6ad436d
    Faction = Demon
    Title = unit_infernal_capt
    Description = unit_infernal_desc
    Flavour = unit_infernal_flav
    SortOrder = 430
    TutorialTag = Research_Infernal
res_relaxchamber
  Include = res_base
  Research
    Stages
      Item = res_relaxchamber.stage_1
      Item = res_relaxchamber.stage_2
      Item = res_relaxchamber.stage_3
      Item = res_relaxchamber.stage_4
    BlackListFollow = res_demons.stage_5
  UiDataResearch
    Icon = 2e44f330dfad9854686da28314c7b660
    Faction = Demon
    Title = room_relaxpool_capt
    Description = room_relaxpool_desc
    Flavour = room_relaxpool_flav
    SortOrder = 490
    TutorialTag = Research_Relaxchamber
res_succubus
  Include = res_base
  Research
    Stages
      Item = res_succubus.stage_1
      Item = res_succubus.stage_2
      Item = res_succubus.stage_3
      Item = res_succubus.stage_4
      Item = res_succubus.stage_5
      Item = res_succubus.stage_6
    AllowRandomLock = True
  UiDataResearch
    Icon = 7fc99c6abf957f24a96d76959e38969f
    Faction = Demon
    Title = unit_succubus_capt
    Description = unit_succubus_desc
    Flavour = unit_succubus_flav
    SortOrder = 450
    TutorialTag = Research_Succubus
res_torturechamber
  Include = res_base
  Research
    Stages
      Item = res_torturechamber.stage_1
      Item = res_torturechamber.stage_2
      Item = res_torturechamber.stage_3
    BlackListFollow = res_demons.stage_7
  UiDataResearch
    Icon = 2cadde3d49ed47d4b956ee5076f178f7
    Faction = Demon
    Title = room_torture_capt
    Description = room_torture_desc
    Flavour = room_torture_flav
    SortOrder = 500
    TutorialTag = Research_Torturechamber
res_vortex
  Include = res_base
  Research
    Stages
      Item = res_vortex.stage_1
      Item = res_vortex.stage_2
      Item = res_vortex.stage_3
      Item = res_vortex.stage_4
      Item = res_vortex.stage_5
      Item = res_vortex.stage_6
  UiDataResearch
    Icon = a95e7eddb4bfd6643b696fa6cf590dda
    Faction = Demon
    Title = room_vortex_capt
    Description = room_vortex_desc
    Flavour = room_vortex_flav
    SortOrder = 410
    TutorialTag = Research_Vortex
res_arena
  Include = res_base
  Research
    Stages
      Item = res_arena.stage_1
      Item = res_arena.stage_2
      Item = res_arena.stage_3
      Item = res_arena.stage_4
    BlackListFollow = res_horde.stage_4
  UiDataResearch
    Icon = 4e5fd20fa2ccf7e4b8329eb25b5cfde5
    Faction = Horde
    Title = room_arena_capt
    Description = room_arena_desc
    Flavour = room_arena_flav
    SortOrder = 260
    TutorialTag = Research_Arena
res_brewery
  Include = res_base
  Research
    Stages
      Item = res_brewery.stage_1
      Item = res_brewery.stage_2
      Item = res_brewery.stage_3
    BlackListFollow = res_horde.stage_6
  UiDataResearch
    Icon = 40365dd59d850604d9b75b6c22bad2ed
    Faction = Horde
    Title = room_brewery_capt
    Description = room_brewery_desc
    Flavour = room_brewery_flav
    SortOrder = 300
    TutorialTag = Research_Brewery
res_gnome
  Include = res_base
  Research
    Stages
      Item = res_gnome.stage_1
      Item = res_gnome.stage_2
      Item = res_gnome.stage_3
      Item = res_gnome.stage_4
      Item = res_gnome.stage_5
    AllowRandomLock = True
  UiDataResearch
    Icon = 9d93f5da37fa8a24aba3b0ada61d85c8
    Faction = Horde
    Title = unit_gnome_capt
    Description = unit_gnome_desc
    Flavour = unit_gnome_flav
    SortOrder = 250
    TutorialTag = Research_Gnome
res_goblin
  Include = res_base
  Research
    Stages
      Item = res_goblin.stage_1
      Item = res_goblin.stage_2
      Item = res_goblin.stage_3
      Item = res_goblin.stage_4
      Item = res_goblin.stage_5
    AllowRandomLock = True
  UiDataResearch
    Icon = 72db0f3a48c12df459dbcf035b751281
    Faction = Horde
    Title = unit_goblin_capt
    Description = unit_goblin_desc
    Flavour = unit_goblin_flav
    SortOrder = 240
    TutorialTag = Research_Goblin
res_hideout
  Include = res_base
  Research
    Stages
      Item = res_hideout.stage_1
      Item = res_hideout.stage_2
      Item = res_hideout.stage_3
      Item = res_hideout.stage_4
      Item = res_hideout.stage_5
      Item = res_hideout.stage_6
  UiDataResearch
    Icon = a18985bac14a5b0408df5484afc00729
    Faction = Horde
    Title = room_hideout_capt
    Description = room_hideout_desc
    Flavour = room_hideout_flav
    SortOrder = 210
    TutorialTag = Research_Hideout
res_horde
  Include = res_base
  Research
    Stages
      Item = res_horde.stage_1
      Item = res_horde.stage_2
      Item = res_horde.stage_3
      Item = res_horde.stage_4
      Item = res_horde.stage_5
      Item = res_horde.stage_6
      Item = res_horde.stage_7
      Item = res_horde.stage_8
      Item = res_horde.stage_9
      Item = res_horde.stage_10
  UiDataResearch
    IsBaseResearch = True
    Icon = 30e65e05379f1b04ea4ac015b49e5c04
    Title = res_horde_capt
    Description = res_horde_desc
    Flavour = res_horde_flav
    Faction = Horde
    TutorialTag = Research_Horde
res_naga
  Include = res_base
  Research
    Stages
      Item = res_naga.stage_1
      Item = res_naga.stage_2
      Item = res_naga.stage_3
      Item = res_naga.stage_4
      Item = res_naga.stage_5
    AllowRandomLock = True
  UiDataResearch
    Icon = 19e225f096ef4d240b085c256876a2e1
    Faction = Horde
    Title = unit_naga_capt
    Description = unit_naga_desc
    Flavour = unit_naga_flav
    SortOrder = 230
    TutorialTag = Research_Naga
res_orc
  Include = res_base
  Research
    Stages
      Item = res_orc.stage_1
      Item = res_orc.stage_2
      Item = res_orc.stage_3
      Item = res_orc.stage_4
      Item = res_orc.stage_5
    AllowRandomLock = True
  UiDataResearch
    Icon = a9c665ae9910c134e97439935d54ce51
    Faction = Horde
    Title = unit_orc_capt
    Description = unit_orc_desc
    Flavour = unit_orc_flav
    SortOrder = 220
    TutorialTag = Research_Orc
res_totem
  Include = res_base
  Research
    Stages
      Item = res_totem.stage_1
      Item = res_totem.stage_2
      Item = res_totem.stage_3
    AllowRandomLock = True
  UiDataResearch
    Faction = Horde
    Title = room_totem_capt
    Description = room_totem_desc
    Flavour = room_totem_flav
    SortOrder = 310
    Icon = e238dc584c718044bb9001e4d979c7a0
    TutorialTag = Research_Totem
res_dungeon
  Include = res_base
  Research
    Stages
      Item = res_dungeon.stage_1
      Item = res_dungeon.stage_2
      Item = res_dungeon.stage_3
      Item = res_dungeon.stage_4
      Item = res_dungeon.stage_5
      Item = res_dungeon.stage_6
      Item = res_dungeon.stage_7
      Item = res_dungeon.stage_8
      Item = res_dungeon.stage_9
      Item = res_dungeon.stage_10
  UiDataResearch
    IsBaseResearch = True
    Faction = Dungeon
    Icon = 94b7acc2be4ad3f4f8f1d5b6281e41b6
    Title = res_dungeon_capt
    Description = res_dungeon_desc
    Flavour = res_dungeon_flav
    TutorialTag = Research_Dungeon
res_evilvault
  Include = res_base
  Research
    Stages
      Item = res_evilvault.stage_1
      Item = res_evilvault.stage_2
      Item = res_evilvault.stage_3
  UiDataResearch
    Icon = b1a1b4ce523f573418a55a6f044b5554
    Faction = Dungeon
    Title = room_evilvault_capt
    Description = room_evilvault_desc
    Flavour = room_evilvault_flav
    SortOrder = 10
    TutorialTag = Research_Evilvault
res_gurufarm
  Include = res_base
  Research
    Stages
      Item = res_gurufarm.stage_1
      Item = res_gurufarm.stage_2
      Item = res_gurufarm.stage_3
      Item = res_gurufarm.stage_4
      Item = res_gurufarm.stage_5
  UiDataResearch
    Icon = 6ee4cdd23c134744bb6b94db1f79de07
    Faction = Dungeon
    Title = room_gurufarm_capt
    Description = room_gurufarm_desc
    Flavour = room_gurufarm_flav
    SortOrder = 30
    TutorialTag = Research_Gurufarm
res_guardroom
  Include = res_base
  Research
    Stages
      Item = res_guardroom.stage_1
      Item = res_guardroom.stage_2
      Item = res_guardroom.stage_3
      Item = res_guardroom.stage_4
    AllowRandomLock = True
  UiDataResearch
    Icon = c5999a668f8b1b24b8c20536c0042057
    Faction = Dungeon
    Title = room_guardroom_capt
    Description = room_guardroom_desc
    Flavour = room_guardroom_flav
    SortOrder = 60
    TutorialTag = Research_Guardroom
res_snot
  Include = res_base
  Research
    Stages
      Item = res_snot.stage_1
      Item = res_snot.stage_2
      Item = res_snot.stage_3
      Item = res_snot.stage_4
      Item = res_snot.stage_5
      Item = res_snot.stage_6
  UiDataResearch
    Icon = 5881ab7491eb4fe4c835e8947c9aa79a
    Faction = Dungeon
    Title = ui_snots
    Description = res_snot_desc
    Flavour = res_snot_flav
    SortOrder = 40
    TutorialTag = Research_Snot
res_throneroom
  Include = res_base
  Research
    Stages
      Item = res_throneroom.stage_1
      Item = res_throneroom.stage_2
      Item = res_throneroom.stage_3
      Item = res_throneroom.stage_4
      Item = res_throneroom.stage_5
      Item = res_throneroom.stage_6
    AllowRandomLock = True
  UiDataResearch
    Icon = 041055e2506b4034c975329247caa77f
    Faction = Dungeon
    Title = room_throneroom_capt
    Description = room_throneroom_desc
    Flavour = room_throneroom_flav
    SortOrder = 50
    TutorialTag = Research_Throneroom
res_treasury
  Include = res_base
  Research
    Stages
      Item = res_treasury.stage_1
      Item = res_treasury.stage_2
      Item = res_treasury.stage_3
      Item = res_treasury.stage_4
      Item = res_treasury.stage_5
  UiDataResearch
    Icon = 13099712cf8ebd24dbafe5b9b7b99090
    Faction = Dungeon
    Title = room_treasury_capt
    Description = room_treasury_desc
    Flavour = room_treasury_flav
    SortOrder = 20
    TutorialTag = Research_Treasury
res_banshee
  Include = res_base
  Research
    Stages
      Item = res_banshee.stage_1
      Item = res_banshee.stage_2
      Item = res_banshee.stage_3
      Item = res_banshee.stage_4
      Item = res_banshee.stage_5
    AllowRandomLock = True
  UiDataResearch
    Faction = Undead
    Icon = 7f26d0ceb0de38f4ba93b91b7001d2e1
    Title = unit_banshee_capt
    Description = unit_banshee_desc
    Flavour = unit_banshee_flav
    SortOrder = 620
    TutorialTag = Research_Banshee
res_crypt
  Include = res_base
  Research
    Stages
      Item = res_crypt.stage_1
      Item = res_crypt.stage_2
      Item = res_crypt.stage_3
      Item = res_crypt.stage_4
      Item = res_crypt.stage_5
    AllowRandomLock = True
  UiDataResearch
    Icon = d873908f5e08fee42af1156f9e14baf2
    Faction = Undead
    Title = room_crypta_capt
    Description = room_crypta_desc
    Flavour = room_crypta_flav
    SortOrder = 690
    TutorialTag = Research_Crypt
res_graveyard
  Include = res_base
  Research
    Stages
      Item = res_graveyard.stage_1
      Item = res_graveyard.stage_2
      Item = res_graveyard.stage_3
      Item = res_graveyard.stage_4
      Item = res_graveyard.stage_5
  UiDataResearch
    Icon = 35bcac099a2a430499447f5cdedc9e2b
    Faction = Undead
    Title = room_graveyard_capt
    Description = room_graveyard_desc
    Flavour = room_graveyard_flav
    SortOrder = 610
    TutorialTag = Research_Graveyard
res_necromancer
  Include = res_base
  Research
    Stages
      Item = res_necromancer.stage_1
      Item = res_necromancer.stage_2
      Item = res_necromancer.stage_3
      Item = res_necromancer.stage_4
      Item = res_necromancer.stage_5
    AllowRandomLock = True
  UiDataResearch
    Icon = 2e207a20d666b5245b8d3679bd8e3cf3
    Faction = Undead
    Title = unit_necromancer_capt
    Description = unit_necromancer_desc
    Flavour = unit_necromancer_flav
    SortOrder = 680
    TutorialTag = Research_Necromancer
res_prison
  Include = res_base
  Research
    Stages
      Item = res_prison.stage_1
      Item = res_prison.stage_2
      Item = res_prison.stage_3
      Item = res_prison.stage_4
    AllowRandomLock = True
  UiDataResearch
    Icon = a69bd3d3f55f5c446a3ac03b3ccbb77b
    Faction = Undead
    Title = room_prison_capt
    Description = room_prison_desc
    Flavour = room_prison_flav
    SortOrder = 660
    TutorialTag = Research_Prison
res_skeletonlord
  Include = res_base
  Research
    Stages
      Item = res_skeletonlord.stage_1
      Item = res_skeletonlord.stage_2
      Item = res_skeletonlord.stage_3
      Item = res_skeletonlord.stage_4
      Item = res_skeletonlord.stage_5
    AllowRandomLock = True
  UiDataResearch
    Icon = 5622730e1476bb24e90413d0843bc9ed
    Faction = Undead
    Title = unit_skeleton_capt
    Description = unit_skeleton_desc
    Flavour = unit_skeleton_flav
    SortOrder = 630
    TutorialTag = Research_Skeletonlord
res_temple
  Include = res_base
  Research
    Stages
      Item = res_temple.stage_1
      Item = res_temple.stage_2
      Item = res_temple.stage_3
      Item = res_temple.stage_4
      Item = res_temple.stage_5
      Item = res_temple.stage_6
    BlackListFollow = res_undead.stage_3
  UiDataResearch
    Icon = afae4ea1ab46f414bbe5260c56f85ad6
    Faction = Undead
    Title = room_temple_capt
    Description = room_temple_desc
    Flavour = room_temple_flav
    SortOrder = 640
    TutorialTag = Research_Temple
res_undead
  Include = res_base
  Research
    Stages
      Item = res_undead.stage_1
      Item = res_undead.stage_2
      Item = res_undead.stage_3
      Item = res_undead.stage_4
      Item = res_undead.stage_5
      Item = res_undead.stage_6
      Item = res_undead.stage_7
      Item = res_undead.stage_8
      Item = res_undead.stage_9
      Item = res_undead.stage_10
  UiDataResearch
    IsBaseResearch = True
    Icon = 2c12c11efa8e30944ae48fbd172cf707
    Faction = Undead
    Title = res_undead_capt
    Description = res_undead_desc
    Flavour = res_undead_flav
    TutorialTag = Research_Undead
